(this.webpackJsonpg2mask=this.webpackJsonpg2mask||[]).push([[0],{48:function(e,t,a){},49:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a(1),n=a.n(c),i=a(40),s=a.n(i),o=(a(48),a(49),a(4)),l=a(7),d=a.n(l),m=a(14),u=a(2),j="https://g2mask2.herokuapp.com/",b=n.a.createContext(),_=n.a.createContext();function p(){return Object(c.useContext)(b)}function h(){return Object(c.useContext)(_)}var f=function(e){var t=e.children,a=Object(c.useState)(!1),n=Object(u.a)(a,2),i=n[0],s=n[1],o=Object(c.useState)((function(){return function(){var e=localStorage.getItem("user");if(!e)return!1;1===(e=JSON.parse(e)).id&&function(){var e=localStorage.getItem("user");!!e&&(e=JSON.parse(e),fetch("".concat(j,"eshop/token/check_admin/"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.access)}}).then((function(e){return e.json()})).then((function(e){return e.detail?(O(),s(!1),!1):(s(!0),!0)})))}();return e}()})),l=Object(u.a)(o,2),p=l[0],h=l[1];function f(){return(f=Object(m.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.password,e.abrupt("return",fetch("".concat(j,"eshop/token/"),{method:"POST",body:JSON.stringify({username:a,password:r}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){return(!e.detail||"No active account found with the given credentials"!==e.detail)&&(localStorage.setItem("user",JSON.stringify(e)),h(e),1===e.id&&s(!0),!0)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){localStorage.removeItem("user"),localStorage.removeItem("cart"),h({}),s(!1)}function x(){return(x=Object(m.a)(d.a.mark((function e(t){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.email,c=t.password,e.abrupt("return",fetch("".concat(j,"eshop/users/registration/"),{method:"POST",body:JSON.stringify({username:a,email:r,password:c}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){return!e.detail})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.jsx)(b.Provider,{value:{user:p,admin:i},children:Object(r.jsx)(_.Provider,{value:{login:function(e){return f.apply(this,arguments)},logout:O,logoutKeepCart:function(){localStorage.removeItem("user"),h({})},loginOutTest:function(){h((function(e){return!e}))},register:function(e){return x.apply(this,arguments)}},children:t})})},O=a(9),x=a(3),v=n.a.createContext();function g(){return Object(c.useContext)(v)}var N=function(e){var t=e.children,a=Object(c.useState)((function(){return o()})),n=Object(u.a)(a,2),i=n[0],s=n[1];function o(){fetch("".concat(j,"eshop/masks/")).then((function(e){return e.json()})).then((function(e){s({items:e,displayItems:e})}))}function l(){return(l=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(j,"eshop/masks/")).then((function(e){return e.json()})).then((function(e){return s({items:e,displayItems:e}),!0})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.jsx)(v.Provider,{value:{items:i,setItems:s,getItems:o,refreshItems:function(){return l.apply(this,arguments)},updateItems:function(e){var t=e.itemID,a=e.newItem,r=i.items.findIndex((function(e){return e.id===t})),c=i.items;c[r]=a,s((function(e){return Object(x.a)(Object(x.a)({},e),{},{items:c,displayItems:c})}))},getItemDetails:function(e){if(i&&e)return i.items.filter((function(t){return t.id===e}))},getItemPriceCurrent:function(e){if(i&&e){var t=i.items.filter((function(t){return t.id===e}))[0];if(t)return Number(t.price_current)}}},children:t})},y=n.a.createContext();function k(){return Object(c.useContext)(y)}var I=function(e){var t=e.children,a=Object(c.useState)((function(){return k()})),n=Object(u.a)(a,2),i=n[0],s=n[1],o=Object(c.useState)(null),l=Object(u.a)(o,2),b=l[0],_=l[1],p=Object(c.useState)(0),h=Object(u.a)(p,2),f=h[0],v=h[1],N=g().getItemPriceCurrent;function k(){var e=localStorage.getItem("cart");return e?JSON.parse(e):[]}function I(){return(I=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.map((function(e){return e.variationID})),e.abrupt("return",fetch("".concat(j,"eshop/masks_variations_details/"),{method:"POST",body:JSON.stringify({items:t}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){return console.log(e),e})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){localStorage.setItem("cart",JSON.stringify(e)),s(e)}function C(e){var t=e.prevItemIndex,a=e.variationID,r=e.quantity;if(w(r)&&(t||!((t=E(a))<0))){var c=r;if(!(c>50||c<0))i[t].quantity=c,S(i)}}function w(e){return e>=-50||e<=50}function E(e){return i.findIndex((function(t){return t.variationID===e}))}return Object(c.useEffect)((function(){k(),function(){if(0!==i.length){var e=i.map((function(e){return e.variationID}));fetch("".concat(j,"eshop/masks_variations_details/"),{method:"POST",body:JSON.stringify({items:e}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){e=e.map((function(e,t){return Object(x.a)(Object(x.a)({},e),{},{cart:i[t]})})),_(e);var t=e.reduce((function(e,t){return e+t.cart.quantity*t.mask.price_current}),0);v(t.toFixed(1))}))}else _([])}()}),[i]),Object(r.jsx)(y.Provider,{value:{cart:i,setCart:s,currentCart:b,subtotal:f,getCartTotalItems:function(){return i?i.length:0},getCartSubtotal:function(){var e=i.reduce((function(e,t){return e+t.quantity*N(t.itemID)}),0).toFixed(1);return v(e),e},getCartLatestDetails:function(){return I.apply(this,arguments)},addCartItem:function(e){var t=e.itemID,a=e.variationID,r=e.quantity;if(w(r)&&a){var c=E(a);if(c>=0)C({prevItemIndex:c,variationID:a,quantity:r});else{var n={itemID:t,variationID:a,quantity:r};S([].concat(Object(O.a)(i),[n]))}}},removeCartItem:function(e){S(i.filter((function(t){return t.variationID!==e})))},changeCartItemQuantity:C,checkQuantityValidity:w,resetCart:function(){s([]),_([]),v(0),localStorage.removeItem("cart")}},children:t})},S=a(8),C=n.a.createContext();function w(){return Object(c.useContext)(C)}var E=function(e){var t=e.children,a=g(),n=a.items,i=a.setItems,s=Object(c.useState)((function(){fetch("".concat(j,"eshop/filter/")).then((function(e){return e.json()})).then((function(e){console.log(e),d(e)}))})),o=Object(u.a)(s,2),l=o[0],d=o[1],m=Object(c.useState)({type:[],protection:[],origin:[],brand:[]}),b=Object(u.a)(m,2),_=b[0],p=b[1],h=Object(c.useState)("newest"),f=Object(u.a)(h,2),v=f[0],N=f[1];return Object(r.jsx)(C.Provider,{value:{filter:l,filterOptions:_,changeFilter:function(e){var t=e.category,a=e.value,r=_[t];r.includes(a)?r=r.filter((function(e){return e!==a})):r.push(a);var c=Object(x.a)(Object(x.a)({},_),{},Object(S.a)({},t,r));p(c),function(e){var t=e.options,a=new Set(n.items),r=function(e){if(0===t[e].length)return"continue";var r=new Set(a),c=new Set;t[e].forEach((function(t){var a=[];switch(e){case"type":a=Object(O.a)(r).filter((function(e){return t===e.mask_type.category}));break;case"protection":a=Object(O.a)(r).filter((function(e){return e.protections.includes(t)}));break;case"origin":a=Object(O.a)(r).filter((function(e){return t===e.origin.country}));break;case"brand":a=Object(O.a)(r).filter((function(e){return t===e.brand.name}))}a.forEach((function(e){return c.add(e)}))})),a=new Set(c)};for(var c in t)r(c);var s=Array.from(a);i((function(e){return Object(x.a)(Object(x.a)({},e),{},{displayItems:s})}))}({options:c})},resetFilter:function(){var e=Object(x.a)(Object(x.a)({},n),{},{displayItems:n.items});N("newest"),i(e),p({type:[],protection:[],origin:[],brand:[]})},sortOption:v,sortItems:function(e){var t=e.option,a={newest:function(e,t){return new Date(t.timestamp_updated)-new Date(e.timestamp_updated)},oldest:function(e,t){return new Date(e.timestamp_updated)-new Date(t.timestamp_updated)},priceLow:function(e,t){return e.price_current-t.price_current},priceHigh:function(e,t){return t.price_current-e.price_current}};N(t),i((function(e){return Object(x.a)(Object(x.a)({},e),{},{displayItems:n.displayItems.sort(a[t])})}))}},children:t})},T=n.a.createContext();function F(){return Object(c.useContext)(T)}var A=function(e){var t=e.children,a=Object(c.useState)(!1),n=Object(u.a)(a,2),i=n[0],s=n[1];return Object(r.jsx)(T.Provider,{value:{message:i,displayMessage:function(e){var t=e.type,a=e.content;s({type:t,content:a})},closeMessage:function(){s(!1)}},children:t})},R=a(5),D=function(){return Object(r.jsx)(o.b,{to:"/g2mask2/",id:"navbarlogo",className:"navbarlogo",children:"G2MASK"})},P=function(){var e=F(),t=e.message,a=e.closeMessage;return t&&Object(r.jsxs)("div",{id:"navbarMessage",className:"navbarMessage",children:[Object(r.jsx)("p",{className:"navbarMessage__p",children:t.content}),Object(r.jsx)("button",{className:"navbarMessage__btn",onClick:function(){return a()},children:Object(r.jsx)("i",{className:"navbarMessage__btn__i fas fa-times"})})]})},L=function(e){var t=e.path,a=e.pageName,c=e.closeNavbar,n=k().getCartTotalItems,i="CART"===a&&n()>0&&Object(r.jsx)("p",{className:"navbarcon__ul__li__link__cartNumber",children:n()}),s="CART"===a&&n()>0&&"navbarcon__ul__li__link--cart",l=Object(r.jsxs)(o.b,{to:t,className:"navbarcon__ul__li__link ".concat(s),onClick:function(){return c(!1)},children:[a,i]});return Object(r.jsx)("li",{className:"navbarcon__ul__li",children:l})},M=function(e){var t=e.closeNavbar,a=(Object(R.h)(),Object(R.g)()),c=h().logout,n=k().resetCart;return Object(r.jsx)("li",{className:"navbarcon__ul__li",children:Object(r.jsx)("button",{className:"navbarcon__ul__li__logout",onClick:function(){return c(),t(),n(),a.push("/g2mask2/"),a.replace("/g2mask2/"),void window.location.reload()},children:"LOGOUT"})})},q=function(){var e=p(),t=e.user,a=e.admin,n=Object(c.useState)((function(){return l()})),i=Object(u.a)(n,2),s=i[0],o=i[1];function l(){return window.innerWidth>600}function d(){l()||o(!1)}Object(c.useEffect)((function(){window.addEventListener("resize",(function(){return o(l())}))}));var m=s&&Object(r.jsx)("nav",{id:"navbarcon",className:"navbarcon",children:Object(r.jsxs)("ul",{id:"navbarcon__ul",className:"navbarcon__ul",children:[Object(r.jsx)(L,{path:"/g2mask2/about",pageName:"ABOUT",closeNavbar:d},"navbarlink-about"),Object(r.jsx)(L,{path:"/g2mask2/",pageName:"SHOP",closeNavbar:d},"navbarlink-home"),Object(r.jsx)(L,{path:"/g2mask2/trackorder",pageName:"TRACK ORDER",closeNavbar:d},"navbarlink-trackorder"),Object(r.jsx)(L,{path:"/g2mask2/cart",pageName:"CART",closeNavbar:d},"navbarlink-cart"),!t&&Object(r.jsx)(L,{path:"/g2mask2/register",pageName:"REGISTER",closeNavbar:d},"navbarlink-register"),!t&&Object(r.jsx)(L,{path:"/g2mask2/login",pageName:"LOGIN",closeNavbar:d},"navbarlink-login"),t&&Object(r.jsx)(L,{path:"/g2mask2/account",pageName:"ACCOUNT",closeNavbar:d},"navbarlink-account"),t&&Object(r.jsx)(M,{closeNavbar:d},"navbarlink-logout"),a&&Object(r.jsx)(L,{path:"/g2mask2/admin",pageName:"ADMIN",closeNavbar:d},"navbarlink-admin")]})});return Object(r.jsxs)("div",{id:"navbar",className:"navbar",children:[Object(r.jsx)(D,{}),Object(r.jsx)("button",{className:"navbar__btn ".concat(s?"navbar__btn--close":"navbar__btn--open"),onClick:function(){return o((function(e){return!e}))},children:Object(r.jsx)("i",{className:"navbar__btn__i ".concat(s?"fas fa-times":"fas fa-bars")})}),m,Object(r.jsx)(P,{})]})},H=function(){return Object(r.jsxs)("div",{id:"footer",className:"footer",children:[Object(r.jsx)("div",{id:"footerLogo",className:"footerLogo",children:Object(r.jsx)(o.b,{to:"/g2mask2/",className:"footerLogo__link",children:"G2MASK"})}),Object(r.jsxs)("div",{id:"footernav",className:"footernav",children:[Object(r.jsx)(o.b,{to:"/g2mask2/about",className:"footernav__link",children:"ABOUT"}),Object(r.jsx)(o.b,{to:"/g2mask2/about",className:"footernav__link",children:"CAREER"}),Object(r.jsx)(o.b,{to:"/g2mask2/about",className:"footernav__link",children:"CONTACT"})]}),Object(r.jsxs)("div",{id:"footerFollow",className:"footerFollow",children:[Object(r.jsx)("h2",{className:"footerFollow__h2",children:"FOLLOW US ON:"}),Object(r.jsxs)("div",{id:"footerFollow__div",className:"footerFollow__div",children:[Object(r.jsx)("i",{className:"footerFollow__div__i fab fa-facebook-f"}),Object(r.jsx)("i",{className:"footerFollow__div__i fab fa-twitter"}),Object(r.jsx)("i",{className:"footerFollow__div__i fab fa-instagram"})]})]})]})},G=function(){return Object(r.jsx)("div",{id:"loadingSmall",className:"loadingSmall",children:Object(r.jsx)("i",{className:"loadingSmall__i fas fa-spinner"})})},B=function(e){var t=e.option,a=t.id,c=t.category,n=t.choice,i=t.value,s=w(),o=s.filterOptions,l=s.changeFilter;return Object(r.jsxs)("div",{className:"filterbox__option",children:[Object(r.jsx)("input",{type:"checkbox",id:"filterbox-option-".concat(i),className:"filterbox__option__input",name:c,value:a,onChange:function(){return l({category:c,value:i})},checked:o[c].includes(i)}),Object(r.jsx)("div",{className:"filterbox__option__div"}),Object(r.jsx)("label",{htmlFor:"filterbox-option-".concat(i),className:"filterbox__option__label",children:n})]})},U=function(e){var t=e.filterType,a=e.options;return Object(r.jsxs)("div",{id:"filterbox-".concat(t),className:"filterbox",children:[Object(r.jsx)("h3",{className:"filterbox__h3",children:t}),Object(r.jsx)("div",{className:"filterbox__options",children:a.map((function(e,a){return Object(r.jsx)(B,{option:e},"filterboxoptions-".concat(t,"-").concat(a))}))})]})},K=function(){var e=w(),t=e.filter,a=e.resetFilter,n=Object(c.useState)(!1),i=Object(u.a)(n,2),s=i[0],o=i[1],l=Object(c.useRef)(),d=Object(c.useRef)();var m=t?Object(r.jsxs)("div",{className:"filter__content",children:[Object(r.jsxs)("div",{className:"filter__down",children:[Object(r.jsx)(U,{filterType:"TYPE",options:t.type},"filterbox-type"),Object(r.jsx)(U,{filterType:"PROTECTION",options:t.protection},"filterbox-protection"),Object(r.jsx)(U,{filterType:"ORIGIN",options:t.origin},"filterbox-origin"),Object(r.jsx)(U,{filterType:"BRAND",options:t.brand},"filterbox-brand")]}),Object(r.jsx)("button",{className:"standardBtn",onClick:function(){return a()},children:"RESET"})]}):Object(r.jsx)(G,{}),j=s&&m;return Object(r.jsxs)("div",{id:"filter",className:"filter",ref:l,children:[Object(r.jsx)("div",{className:"filter__up",children:Object(r.jsxs)("button",{className:"filter__up__btn",onClick:function(){return o((function(e){return!e})),void(s?(d.current.classList.replace("filter__up__btn__i--open","filter__up__btn__i--close"),l.current.style.border="1px solid transparent"):(d.current.classList.replace("filter__up__btn__i--close","filter__up__btn__i--open"),l.current.style.border="1px solid #ff33a0"))},children:[Object(r.jsx)("p",{className:"filter__up__btn__p",children:"Filter"}),Object(r.jsx)("i",{className:"filter__up__btn__i filter__up__btn__i--close fas fa-plus",ref:d})]})}),j]})},W=function(e){var t=e.sloganH2,a=e.sloganP;return Object(r.jsxs)("div",{id:"mainhero",className:"mainhero",children:[Object(r.jsx)("h2",{className:"mainhero__h2",children:t}),Object(r.jsx)("p",{className:"mainhero__p",children:a}),Object(r.jsx)("div",{className:"mainhero__filter"})]})},z=function(e){var t=e.item,a=t.id,c=t.brand,n=t.name,i=t.price_current,s=t.price_original,l=t.img,d=t.is_sale?Object(r.jsxs)("div",{className:"mainitem__down",children:[Object(r.jsx)("p",{className:"mainitem__down__priceCurrent mainitem__down__priceCurrent--sale",children:i}),Object(r.jsx)("p",{className:"mainitem__down__priceOriginal",children:s})]}):Object(r.jsx)("div",{className:"mainitem__down",children:Object(r.jsx)("p",{className:"mainitem__down__priceCurrent",children:i})});return Object(r.jsxs)(o.b,{to:"/g2mask2/item/".concat(a),className:"mainitem",children:[Object(r.jsx)("div",{className:"mainitem__up",children:Object(r.jsx)("img",{src:l,className:"mainitem__up__img",alt:n})}),Object(r.jsxs)("div",{className:"mainitem__details",children:[Object(r.jsxs)("div",{className:"mainitem__mid",children:[Object(r.jsx)("p",{className:"mainitem__mid__name",children:n}),Object(r.jsx)("p",{className:"mainitem__mid__brand",children:c.name})]}),d]})]})},Y=function(){return Object(r.jsxs)("div",{id:"mainEmpty",className:"mainEmpty",children:[Object(r.jsx)("i",{className:"mainEmpty__i fas fa-exclamation-circle"}),Object(r.jsx)("p",{className:"mainEmpty__p",children:"Opps! No result!"})]})};function V(e){var t=e.input,a=e.itemsPerPage,r=[],c=[];return t.forEach((function(e,t){0!==t&t%a===0?(r.push(c),c=[e]):c.push(e)})),r.length<Math.ceil(t.length/a)&&r.push(c),r}var J=function(){var e=g().items,t=Object(c.useCallback)((function(){if(e){var t=V({input:e.displayItems.length>0?e.displayItems:e.items,itemsPerPage:4});return{paginatedItems:t,displayItems:t[0],pages:t.length,currentPage:0}}}),[e]),a=Object(c.useState)((function(){return t()})),n=Object(u.a)(a,2),i=n[0],s=n[1];Object(c.useEffect)((function(){e&&s((function(){return t()}))}),[e,s,t]);var o=i&&i.currentPage<i.pages-1&&Object(r.jsx)("button",{className:"mainmenu__showmore standardBtn--2",onClick:function(){return function(){if(i.currentPage===i.pages-1)return;var e=i.currentPage+1,t=Object(x.a)(Object(x.a)({},i),{},{displayItems:[].concat(Object(O.a)(i.displayItems),Object(O.a)(i.paginatedItems[e])),currentPage:e,next:e<i.pages-1});s(t)}()},children:"Show More"});return e?e.displayItems.length>0?Object(r.jsxs)("div",{id:"mainmenu",className:"mainmenu",children:[Object(r.jsx)("div",{id:"mainmenu__con",className:"mainmenu__con",children:i&&i.displayItems.map((function(e,t){return Object(r.jsx)(z,{item:e},"mainitem-".concat(t))}))}),o]}):Object(r.jsx)(Y,{}):Object(r.jsx)("div",{id:"mainmenu",className:"mainmenu",children:Object(r.jsx)(G,{})})},Q=function(){var e=w(),t=e.sortOption,a=e.sortItems;return Object(r.jsx)("div",{id:"sort",className:"sort",children:Object(r.jsxs)("select",{className:"sort__select",value:t,onChange:function(e){return function(e){var t=e.target.value;a({option:t})}(e)},children:[Object(r.jsx)("option",{value:"newest",children:"Newest"}),Object(r.jsx)("option",{value:"oldest",children:"Oldest"}),Object(r.jsx)("option",{value:"priceLow",children:"Price Low to High"}),Object(r.jsx)("option",{value:"priceHigh",children:"Price High to Low"})]})})},X=function(){var e=g().items;return Object(r.jsxs)("div",{id:"main",className:"main",children:[Object(r.jsx)(W,{sloganH2:"WEAR MASK!",sloganP:"PROTECT YOURSELF AND YOUR LOVE ONES"}),e&&Object(r.jsx)(K,{}),e&&Object(r.jsx)(Q,{}),Object(r.jsx)(J,{})]})},$=function(){var e=Object(c.useRef)(),t=Object(c.useState)(!1),a=Object(u.a)(t,2),n=a[0],i=a[1],s=Object(r.jsxs)("div",{className:"aboutHero__slogan",children:[Object(r.jsx)("h1",{className:"aboutHero__slogan__h1",children:"WEARING MASK IS"}),Object(r.jsx)("p",{className:"aboutHero__slogan__p",children:"UNCOMFORTABLE?"}),Object(r.jsx)("p",{className:"aboutHero__slogan__p",children:"DIFFICULT TO BREATHE?"}),Object(r.jsx)("p",{className:"aboutHero__slogan__p",children:"EXPENSIVE?"})]}),l=Object(r.jsx)("div",{className:"aboutHero__slogan aboutHero__slogan--activate",children:Object(r.jsx)("p",{className:"aboutHero__slogan__p",children:"ENJOY EVERY BREATH AGAIN"})});function d(){i((function(e){return!e})),e.current.className="aboutHero__filter aboutHero__filter__activate"===e.current.className?"aboutHero__filter aboutHero__filter__notactivate":"aboutHero__filter aboutHero__filter__activate"}return Object(r.jsxs)("div",{id:"aboutHero",className:"aboutHero",children:[Object(r.jsx)("div",{className:"aboutHero__filter aboutHero__filter__activate",ref:e}),n?l:s,Object(r.jsx)("div",{className:"aboutHero__btn",children:Object(r.jsx)(o.b,{to:"/g2mask2/",className:"aboutHero__link",onMouseOver:function(){return d()},onMouseLeave:function(){return d()},children:"SHOP NOW"})})]})},Z=function(){return Object(r.jsxs)("div",{className:"aboutUs",children:[Object(r.jsx)("h1",{className:"aboutUs__h1",children:"Who are we?"}),Object(r.jsx)("i",{className:"aboutUs__i far fa-question-circle"}),Object(r.jsx)("p",{className:"aboutUs__p",children:"We are Mask Professionals specialise in finding the best masks from around the world."})]})},ee=function(e){var t=e.job,a=t.icon,c=t.name;return Object(r.jsxs)("div",{className:"aboutDo__card",children:[Object(r.jsx)("i",{className:"aboutDo__card__i ".concat(a)}),Object(r.jsx)("p",{className:"aboutDo__card__p",children:c})]})},te=function(){return Object(r.jsxs)("div",{className:"aboutDo",children:[Object(r.jsx)("h1",{className:"aboutDo__h1",children:"What we do?"}),Object(r.jsx)("div",{className:"aboutDo__con",children:[{icon:"fas fa-search",name:"WE FIND"},{icon:"fas fa-tags",name:"WE SELL"},{icon:"fas fa-truck-loading",name:"WE DELIVER"}].map((function(e,t){return Object(r.jsx)(ee,{job:e},"aboutdo-".concat(t))}))}),Object(r.jsx)("p",{className:"aboutDo__p",children:"With us, you don't have to worry about price and quality anymore!"}),Object(r.jsx)("p",{className:"aboutDo__p",children:"We do the most complicated tasks for you, so you can:"}),Object(r.jsxs)("ul",{className:"aboutDo__ul",children:[Object(r.jsxs)("li",{className:"aboutDo__li",children:[Object(r.jsx)("i",{className:"aboutDo__li__i fas fa-check-circle"})," CHOOSE the best masks of the world"]}),Object(r.jsxs)("li",{className:"aboutDo__li",children:[Object(r.jsx)("i",{className:"aboutDo__li__i fas fa-check-circle"})," BUY at the lowest possible price"]}),Object(r.jsxs)("li",{className:"aboutDo__li",children:[Object(r.jsx)("i",{className:"aboutDo__li__i fas fa-check-circle"})," RECEIVE in the most convient way"]})]})]})},ae=function(e){var t=e.label,a=e.type,c="textarea"===a?Object(r.jsx)("textarea",{id:"aboutContact__form--".concat(t),className:"aboutContact__form__grp__textarea",autoComplete:"off",rows:"5",required:!0}):Object(r.jsx)("input",{id:"aboutContact__form--".concat(t),className:"aboutContact__form__grp__input",type:a,autoComplete:"off",required:!0});return Object(r.jsxs)("div",{className:"aboutContact__form__grp",children:[Object(r.jsx)("label",{htmlFor:"aboutContact__form--".concat(t),className:"aboutContact__form__grp__label",children:t}),c]})},re=function(e){var t=e.handleSubmit;return Object(r.jsxs)("form",{className:"aboutContact__form",onSubmit:function(e){return t(e)},children:[Object(r.jsx)(ae,{label:"Name",type:"text"},"aboutcontactform-name"),Object(r.jsx)(ae,{label:"Email",type:"email"},"aboutcontactform-email"),Object(r.jsx)(ae,{label:"Message",type:"textarea"},"aboutcontactform-text"),Object(r.jsx)("button",{className:"aboutContact__form__btn standardBtn--2",children:"Submit"})]})},ce=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1];var i=a?Object(r.jsxs)("div",{className:"aboutContact__thanks",children:[Object(r.jsx)("i",{className:"aboutContact__thanks__i fas fa-heart"}),Object(r.jsx)("p",{className:"aboutContact__thanks__p",children:"THANK YOU!"}),Object(r.jsx)("p",{className:"aboutContact__thanks__p",children:"We will get back to you soon!"})]}):Object(r.jsx)(re,{handleSubmit:function(e){e.preventDefault(),n((function(e){return!e}))}});return Object(r.jsxs)("div",{id:"aboutContact",className:"aboutContact",children:[Object(r.jsx)("h2",{className:"aboutContact__h2",children:"CONTACT US"}),Object(r.jsx)("p",{className:"aboutContact__p",children:"We'd like to hear from you!"}),i]})},ne=function(){return Object(r.jsxs)("div",{id:"about",className:"about",children:[Object(r.jsx)($,{}),Object(r.jsx)(Z,{}),Object(r.jsx)(te,{}),Object(r.jsx)(ce,{})]})},ie=function(){return Object(r.jsx)("div",{id:"loadingLarge",className:"loadingLarge",children:Object(r.jsx)("i",{className:"loadingLarge__i fas fa-spinner"})})},se=function(e){var t=e.img;return Object(r.jsx)("div",{id:"itemimg",className:"itemImg",children:Object(r.jsx)("img",{className:"itemImg__img",src:t,alt:"product"})})},oe=function(e){var t=e.isSale,a=e.priceCurrent,c=e.priceOriginal,n=t&&"itemInfo__price__current__sale",i=t&&Object(r.jsx)("p",{className:"itemInfo__price__original",children:c});return Object(r.jsxs)("div",{className:"itemInfo__price",children:[Object(r.jsxs)("p",{className:"itemInfo__price__current ".concat(n),children:[Object(r.jsx)("span",{className:"itemInfo__price__current__sign",children:"$"})," ",a]}),i]})},le=function(e){var t=e.protections;return Object(r.jsx)("div",{id:"itemInfo__protections",className:"itemInfo__protections",children:t.map((function(e,t){return Object(r.jsx)("p",{className:"itemInfo__protections__protection",children:e},"protection-".concat(t))}))})},de=function(e){var t=e.inventory,a=e.handleChangeQuantity,c=e.defaultValue,n=t>10?10:t,i=[];if(0===n)i.push(Object(r.jsx)("option",{value:"out-of-stock",disabled:!0,children:"OUT OF STOCK"},"quantity-option-outofstock"));else for(var s=1;s<=n;s++)i.push(Object(r.jsx)("option",{value:s,children:s},"quantity-option-".concat(s)));return Object(r.jsxs)("select",{className:"itemInfo__variations__select",value:c,onChange:function(e){return a(e)},children:[Object(r.jsx)("option",{value:"default",disabled:!0,children:"Select Quantity"},"variation-default"),i]})},me=function(e){var t=e.itemID,a=e.variations,n=k().addCartItem,i=F().displayMessage,s=Object(c.useState)("default"),o=Object(u.a)(s,2),l=o[0],d=o[1],m=Object(c.useState)("default"),j=Object(u.a)(m,2),b=j[0],_=j[1];function p(e){e.preventDefault(),"default"!==b?(n({itemID:t,variationID:l.id,quantity:b}),d("default"),_("default"),i({type:"Success",content:"Item added to cart."})):i({type:"Error",content:"Please select quantity."})}return Object(r.jsxs)("form",{id:"itemInfo__variations",className:"itemInfo__variations",onSubmit:function(e){return p(e)},children:[Object(r.jsxs)("select",{className:"itemInfo__variations__select",onChange:function(e){return function(e){var t=Number(e.target.value),r=a.filter((function(e){return e.id===t}))[0];d(r)}(e)},value:"default"===l?"default":l.id,children:[Object(r.jsx)("option",{value:"default",disabled:!0,children:"Select Size"},"variation-default"),a.map((function(e,t){return Object(r.jsx)("option",{value:e.id,children:e.size},"variation-".concat(t))}))]}),Object(r.jsx)(de,{inventory:l&&l.inventory,defaultValue:b,handleChangeQuantity:function(e){_(Number(e.target.value))}},"iteminfoquantity"),Object(r.jsx)("button",{className:"itemInfo__variations__addCart standardBtn--2",children:"Add to Cart"})]})},ue=function(e){var t=e.item,a=t.id,c=t.name,n=t.brand,i=t.description,s=t.origin,o=t.mask_type,l=t.is_sale,d=t.price_current,m=t.price_original,u=t.protections,j=t.variations;return Object(r.jsxs)("div",{id:"iteminfo",className:"itemInfo",children:[Object(r.jsx)("h2",{className:"itemInfo__name",children:c}),Object(r.jsx)("p",{className:"itemInfo__brand",children:n.name}),Object(r.jsx)("p",{className:"itemInfo__description",children:i}),Object(r.jsx)(le,{protections:u},"iteminfoprotections"),Object(r.jsxs)("p",{className:"itemInfo__origin",children:["This product is made in ",Object(r.jsx)("span",{className:"itemInfo__origin__span",children:s.country}),"."]}),Object(r.jsxs)("p",{className:"itemInfo__type",children:["This is a ",Object(r.jsx)("span",{className:"itemInfo__type__span",children:o.category.toLowerCase()})," mask."]}),Object(r.jsx)(oe,{isSale:l,priceCurrent:d,priceOriginal:m},"iteminfoprice"),Object(r.jsx)(me,{itemID:a,variations:j},"iteminfovariations")]})},je=a(26),be=a.n(je),_e=function(e){var t=e.review,a=(t.id,t.review),c=t.timestamp,n=t.user;return Object(r.jsxs)("div",{id:"review-".concat("1"),className:"itemReviews__card",children:[Object(r.jsx)("div",{className:"itemReviews__card__info",children:Object(r.jsxs)("p",{className:"itemReviews__card__info__p",children:[n.username,Object(r.jsx)("span",{className:"itemReviews__card__info__span",children:"\u2022"}),be()(c).fromNow()]})}),Object(r.jsx)("div",{className:"itemReviews__card__content",children:Object(r.jsx)("p",{className:"itemReviews__card__content__p",children:a})})]})},pe=function(e){var t=e.reviews,a=Object(c.useCallback)((function(e){var a=V({input:t.sort((function(e,t){return t.id-e.id})),itemsPerPage:5}),r={reviews:t,paginatedReviews:a,pages:a.length,displayReviews:a[0],currentPage:0,next:a.length-1>0};return e&&(r.currentPage=e.currentPage+1,r.next=e.currentPage+1<a.length),r}),[t]),n=Object(c.useState)((function(){return a()})),i=Object(u.a)(n,2),s=i[0],o=i[1];return Object(c.useEffect)((function(){o((function(){return a()}))}),[t,a]),Object(r.jsxs)("div",{id:"itemReviews__con",className:"itemReviews__con",children:[s.displayReviews.map((function(e,t){return Object(r.jsx)(_e,{review:e},"itemreviewscard-".concat(t))})),s.next&&Object(r.jsx)("button",{className:"itemReviews__con__showMore standardBtn--2",onClick:function(){return function(){if(s.currentPage!==s.pages-1){var e=s.currentPage+1,t=Object(x.a)(Object(x.a)({},s),{},{displayReviews:[].concat(Object(O.a)(s.displayReviews),Object(O.a)(s.paginatedReviews[e])),currentPage:e,next:e<s.pages-1});o(t)}}()},children:"Show more"})]})},he=function(e){var t=e.submitReview,a=Object(c.useState)(!1),n=Object(u.a)(a,2),i=n[0],s=n[1];return i?Object(r.jsx)(G,{}):Object(r.jsxs)("form",{id:"itemReviews__form",className:"itemReviews__form",onSubmit:function(e){return function(e){e.preventDefault(),""!==e.target.content.value.trim()&&(s(!0),t(e.target.content.value).then((function(t){t&&(s(!1),e.target.content.value="")})))}(e)},children:[Object(r.jsx)("label",{className:"itemReviews__form__label",children:"We appreciate your comment:"}),Object(r.jsx)("textarea",{id:"itemReviews__form__textarea",className:"itemReviews__form__textarea",autoComplete:"off",name:"content",rows:"5",required:!0}),Object(r.jsx)("button",{type:"submit",className:"standardBtn itemReviews__form__btn",children:"Submit"})]})},fe=function(e){var t=e.reviews,a=e.submitReview,c=p().user,n=t.length>0?Object(r.jsx)(pe,{reviews:t},"itemreviewscon"):Object(r.jsx)("p",{className:"itemReviews__empty",children:"There's no review, yet."});return Object(r.jsxs)("div",{id:"itemReviews",className:"itemReviews",children:[Object(r.jsx)("h2",{className:"itemReviews__h2",children:"REVIEWS"}),n,c&&Object(r.jsx)(he,{submitReview:a})]})},Oe=function(e){var t=e.match.params.itemId,a=g(),n=a.items,i=a.updateItems,s=p().user,o=Object(c.useState)("loading"),l=Object(u.a)(o,2),b=l[0],_=l[1],h=Object(c.useState)(null),f=Object(u.a)(h,2),O=f[0],v=f[1],N=Object(c.useCallback)((function(e){var t=n.items.filter((function(t){return t.id===Number(e)}))[0];return t.reviews&&v(t.reviews),t}),[n]);function y(){return(y=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(j,"eshop/customer_review/create/").concat(b.id),{method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(s.access)},body:JSON.stringify({review:t})}).then((function(e){return e.json()})).then((function(e){v(e);var t=Object(x.a)(Object(x.a)({},b),{},{reviews:e});return i({itemID:b.id,newItem:t}),!0})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){n&&_(N(t))}),[n,N,t]);var k="loading"===b?Object(r.jsx)(ie,{}):b?Object(r.jsxs)("div",{id:"itemContent",className:"itemContent",children:[Object(r.jsx)(se,{img:b.img},"itemimg"),Object(r.jsx)(ue,{item:b},"iteminfo"),Object(r.jsx)(fe,{reviews:O,itemID:b.id,setReviews:v,submitReview:function(e){return y.apply(this,arguments)}},"itemreviews")]}):Object(r.jsxs)("div",{id:"itemError",className:"itemError",children:[Object(r.jsx)("h1",{className:"itemError__h1",children:"Opps"}),Object(r.jsx)("i",{className:"itemError__i fas fa-exclamation-triangle"}),Object(r.jsx)("p",{className:"itemError__p",children:"Item not found."})]});return Object(r.jsx)("div",{id:"item",className:"item",children:k})},xe=a(27),ve=a.n(xe);function ge(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(m.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uuid,r=t.user,e.abrupt("return",fetch("".concat(j,"eshop/trackorder/").concat(a),{headers:{Authorization:r&&"Bearer ".concat(r.access)}}).then((function(e){return e.json()})).then((function(e){return e})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=function(e){var t=e.handleSubmit;return Object(r.jsxs)("form",{id:"trackorderForm",className:"trackorderForm",onSubmit:function(e){return t(e)},children:[Object(r.jsx)("label",{className:"trackorderForm__label",htmlFor:"trackorderForm__input",children:"Please entre your order number:"}),Object(r.jsx)("textarea",{id:"trackorderForm__input",className:"trackorderForm__textarea",name:"trackorderInput",type:"text",rows:"2",maxLength:36,required:!0}),Object(r.jsx)("button",{className:"trackorderForm__btn standardBtn--2",type:"submit",children:"Track order"})]})},ke=function(){var e=Object(R.g)(),t=p().user,a=Object(c.useState)(!1),n=Object(u.a)(a,2),i=n[0],s=n[1],o=Object(c.useState)(""),l=Object(u.a)(o,2),d=l[0],m=l[1],j=i?Object(r.jsx)(G,{}):Object(r.jsx)(ye,{handleSubmit:function(a){a.preventDefault(),s(!0);var r=a.target.trackorderInput.value,c=ve()(r,4);console.log(r),c?ge({uuid:r,user:t}).then((function(t){console.log(t),t.detail?(m(t.detail),s(!1)):(m(""),s(!1),e.push("/g2mask2/order/".concat(r)))})):(s(!1),m("Invalid order number."))}},"trackorderform"),b=d&&Object(r.jsxs)("p",{className:"trackorder__error",children:["Error: ",d]});return Object(r.jsxs)("div",{id:"trackorder",className:"trackorder",children:[Object(r.jsx)("h1",{className:"trackorder__h1",children:"TRACK ORDER"}),j,b]})},Ie=function(e){var t=e.address,a=e.title,c=t&&[t.firstname,t.lastname,t.flat,t.apartment,t.street,t.area,t.district],n=c?Object(r.jsx)("div",{className:"orderAddressCard__content",children:c.map((function(e,t){return Object(r.jsx)("p",{className:"orderAddressCard__content__p",children:e},"orderaddresscard-content-".concat(a.toLowerCase(),"-").concat(t))}))}):Object(r.jsx)("div",{className:"orderAddressCard__content",children:Object(r.jsx)("p",{className:"orderAddressCard__content__p",children:"Nil."})});return Object(r.jsxs)("div",{className:"orderAddressCard",children:[Object(r.jsx)("p",{className:"orderAddressCard__title",children:a}),n]})},Se=function(e){var t=e.order,a=t.shipping,c=t.billing;return Object(r.jsxs)("div",{id:"orderAddresses",className:"orderAddresses",children:[Object(r.jsx)(Ie,{title:"Shipping Address",address:a},"orderaddressscard-shipping"),Object(r.jsx)(Ie,{title:"Billing Address",address:c},"orderaddressscard-billing")]})},Ce=a(42),we=a.n(Ce),Ee=function(e){var t=e.order.uuid;return Object(c.useEffect)((function(){we()("#orderBarcode__barcode",t,{lineColor:"#ff33a0"})})),Object(r.jsx)("div",{id:"orderBarcode",className:"orderBarcode",children:Object(r.jsx)("img",{id:"orderBarcode__barcode",className:"orderBarcode__barcode",alt:"orderBarcode"})})},Te=function(e){var t=e.title,a=e.data;return Object(r.jsxs)("div",{className:"orderBasic__grp",children:[Object(r.jsx)("p",{className:"orderBasic__grp__title",children:t}),Object(r.jsx)("p",{className:"orderBasic__grp__data",children:a})]})},Fe=function(e){var t=e.timestampCreated,a=e.uuid;return Object(r.jsxs)("div",{className:"orderBasic",children:[Object(r.jsx)(Te,{title:"Order Date",data:be()(t).format("Do MMMM YYYY, HH:mm:ss")},"orderbasicgrp-orderdate"),Object(r.jsx)(Te,{title:"Order Number",data:a},"orderbasicgrp-orderuuid")]})},Ae=function(e){var t=e.name,a=e.brand,c=e.size;return Object(r.jsxs)("div",{className:"orderItemCard__details",children:[Object(r.jsx)("p",{className:"orderItemCard__details__name",children:t}),Object(r.jsx)("p",{className:"orderItemCard__details__brand",children:a}),Object(r.jsxs)("p",{className:"orderItemCard__details__size",children:["Size: ",Object(r.jsx)("span",{className:"orderItemCard__details__size__span",children:c})]})]})},Re=function(e){var t=e.title,a=e.data,c=e.gridArea;return Object(r.jsxs)("div",{className:"orderItemCard__pricebox orderItemCard__".concat(c),children:[Object(r.jsx)("p",{className:"orderItemCard__pricebox__title",children:t}),Object(r.jsx)("p",{className:"orderItemCard__pricebox__unit",children:a})]})},De=function(e){var t=e.item,a=t.item,c=a.mask,n=c.name,i=c.brand,s=c.img,o=a.size,l=t.quantity,d=t.price_original,m=t.price_subtotal;return Object(r.jsxs)("div",{className:"orderItemCard",children:[Object(r.jsx)("div",{className:"orderItemCard__img",children:Object(r.jsx)("img",{className:"orderItemCard__img__img",src:s,alt:"item_photo"})}),Object(r.jsx)(Ae,{name:n,brand:i.name,size:o},"orderitemcard-details"),Object(r.jsx)(Re,{title:"QUANTITY",gridArea:"quantity",data:l},"orderitemcard-quantity"),Object(r.jsx)(Re,{title:"UNIT",gridArea:"unit",data:d},"orderitemcard-unit"),Object(r.jsx)(Re,{title:"SUBTOTAL",gridArea:"subtotal",data:m},"orderitemcard-subtotal")]})},Pe=function(e){var t=e.order.items;return Object(r.jsx)("div",{id:"orderItems",className:"orderItems",children:t.map((function(e,t){return Object(r.jsx)(De,{item:e},"orderitemcard-".concat(t))}))})},Le=function(e){var t=e.name,a=e.active,c=e.next,n=e.icon;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"orderStatusCard ".concat(a?"orderStatusCard--active":"orderStatusCard--inactive"),children:[Object(r.jsx)("i",{className:"orderStatusCard__i ".concat(n)}),Object(r.jsx)("p",{className:"orderStatusCard__p",children:t})]}),c&&Object(r.jsx)("i",{className:"orderStatus__i fas fa-chevron-down ".concat(a?"orderStatus__i--active":"orderStatus__i--inactive")})]})},Me=function(e){var t=e.order,a=t.shipping_method,c=t.status;console.log(c);var n="Instore Pick-up"===a?Object(r.jsx)(Le,{name:"Ready for Pick Up",icon:"fas fa-store-alt",active:"Ready for Pick Up"===c||"Collected"===c,next:!0},"orderstatuscard-middle"):Object(r.jsx)(Le,{name:"Delivery in Progress",icon:"fas fa-truck",active:"Shipped"===c||"Delivered"===c,next:!0},"orderstatuscard-middle"),i="Instore Pick-up"===a?Object(r.jsx)(Le,{name:"Item Collected",icon:"fas fa-hand-holding",active:"Collected"===c},"orderstatuscard-collect"):Object(r.jsx)(Le,{name:"Item Delivered",icon:"fas fa-truck-loading",active:"Delivered"===c},"orderstatuscard-collect");return Object(r.jsxs)("div",{id:"orderStatus",className:"orderStatus",children:[Object(r.jsx)("p",{className:"orderStatus__title",children:"STATUS"}),Object(r.jsxs)("div",{className:"orderStatus__box",children:[Object(r.jsx)(Le,{name:"Received",icon:"fas fa-check",active:!0,next:!0},"orderstatuscard-received"),n,i]})]})},qe=function(e){var t=e.title,a=e.data,c=e.otherData,n=e.gridArea,i=c&&Object(r.jsxs)("span",{className:"orderTotal__grp__title__span",children:["(",c,")"]});return Object(r.jsxs)("div",{className:"orderTotal__grp orderTotal__grp--".concat(n),children:[Object(r.jsxs)("p",{className:"orderTotal__grp__title",children:[t,Object(r.jsx)("br",{}),Object(r.jsx)("span",{className:"orderTotal__grp__title__span",children:i})]}),Object(r.jsx)("p",{className:"orderTotal__grp__data",children:a})]})},He=function(e){var t=e.order,a=t.shipping_method,c=t.shipping_price,n=t.subtotal;return Object(r.jsx)("div",{id:"orderTotal",className:"orderTotal",children:Object(r.jsxs)("div",{className:"orderTotal__box",children:[Object(r.jsx)(qe,{title:"SUBTOTAL",gridArea:"subtotal",data:n,otherData:""},"ordertotalgrp-subtotal"),Object(r.jsx)(qe,{title:"SHIPPING",gridArea:"shipping",data:c,otherData:a},"ordertotalgrp-shipping"),Object(r.jsx)(qe,{title:"TOTAL",gridArea:"total",data:(Number(c)+Number(n)).toFixed(1)},"ordertotalgrp-total")]})})},Ge=function(e){var t=Object(R.g)(),a=p().user,n=F().displayMessage,i=Object(c.useState)(""),s=Object(u.a)(i,2),o=s[0],l=s[1],d=Object(c.useState)((function(){return function(){var r=e.match.params.orderID;if(!ve()(r,4))return l("Invalid order number."),"Invalid order number";return ge({uuid:r,user:a}).then((function(e){if(e.detail)return b(e),l(e.detail),n({type:"Error",content:"You must login to view this order."}),void t.push("/login");b(e)})),!1}()})),m=Object(u.a)(d,2),j=m[0],b=m[1];Object(c.useEffect)((function(){return function(){l(""),b(!1)}}),[]);var _=Object(r.jsxs)("div",{id:"order",className:"order",children:[Object(r.jsx)("h1",{className:"order__h1",children:"ORDER"}),Object(r.jsx)(Fe,{timestampCreated:j&&j.timestamp_created,uuid:j&&j.uuid},"orderbasic"),Object(r.jsx)(Pe,{order:j},"orderitems"),Object(r.jsx)(He,{order:j},"ordertotal"),Object(r.jsx)(Se,{order:j},"orderaddresses"),Object(r.jsx)(Me,{order:j},"orderstatus"),Object(r.jsx)(Ee,{order:j},"orderbarcode")]});return j?o?Object(r.jsxs)("div",{id:"orderError",className:"orderError",children:[Object(r.jsx)("h1",{className:"orderError__h1",children:"Opps"}),Object(r.jsx)("i",{className:"orderError__i fas fa-exclamation-triangle"}),Object(r.jsx)("p",{className:"orderError__p",children:o})]}):_:Object(r.jsx)(ie,{})},Be=function(e){var t=e.img,a=e.alt;return Object(r.jsx)("div",{className:"cartItemCard__img",children:Object(r.jsx)("img",{className:"cartItemCard__img__img",src:t,alt:a})})},Ue=function(e){var t=e.name,a=e.brand,c=e.size;return Object(r.jsxs)("div",{className:"cartItemCard__info",children:[Object(r.jsx)("p",{className:"cartItemCard__info__name",children:t}),Object(r.jsx)("p",{className:"cartItemCard__info__brand",children:a}),Object(r.jsx)("p",{className:"cartItemCard__info__size",children:c})]})},Ke=function(e){for(var t=e.itemID,a=e.currentQuantity,c=e.setCurrentQuantity,n=k(),i=n.changeCartItemQuantity,s=n.getCartSubtotal,o=[],l=1;l<=15;l++)o.push(Object(r.jsx)("option",{value:l,children:l},"cartitemcardquantityoption-".concat(l)));return Object(r.jsxs)("div",{className:"cartItemCard__quantity",children:[Object(r.jsx)("p",{className:"cartItemCard__quantity__title",children:"QUANTITY"}),Object(r.jsx)("select",{className:"cartItemCard__quantity__select",defaultValue:a,onChange:function(e){return function(e){var a=e.target.value;i({variationID:t,quantity:Number(a)}),c(a),s()}(e)},children:o})]})},We=function(e){var t=e.subtotal;return Object(r.jsxs)("div",{className:"cartItemCard__subtotal",children:[Object(r.jsx)("p",{className:"cartItemCard__subtotal__title",children:"SUBTOTAL"}),Object(r.jsx)("p",{className:"cartItemCard__subtotal__price",children:t})]})},ze=function(e){var t=e.item,a=t.id,n=t.size,i=t.mask,s=i.name,o=i.brand,l=i.img,d=(i.is_sale,i.price_current),m=(i.price_original,t.cart.quantity),j=k().removeCartItem,b=F().displayMessage,_=Object(c.useState)(m),p=Object(u.a)(_,2),h=p[0],f=p[1];return Object(r.jsxs)("div",{className:"cartItemCard",children:[Object(r.jsx)(Be,{img:l,alt:s},"cartitemcartimg-".concat(a,"-").concat(n.trim())),Object(r.jsx)(Ue,{name:s,brand:o.name,size:n},"cartitemcartinfo-".concat(a,"-").concat(n.trim())),Object(r.jsx)(Ke,{currentQuantity:h,itemID:a,size:n,setCurrentQuantity:f},"cartitemcardquantity-".concat(a,"-").concat(n.trim())),Object(r.jsx)(We,{subtotal:Number(d*m).toFixed(1)},"cartitemcardsubtotal-".concat(a,"-").concat(n.trim())),Object(r.jsx)("button",{className:"cartItemCard__remove",onClick:function(){return j(a),void b({type:"Success",content:"Item removed from cart."})},children:Object(r.jsx)("i",{className:"cartItemCard__remove__i fas fa-times"})})]})},Ye=function(){var e=k().currentCart,t=e&&e.map((function(e,t){return Object(r.jsx)(ze,{item:e},"cartitemcard-".concat(t))})),a=e?t:Object(r.jsx)(G,{});return Object(r.jsx)("div",{id:"cartItems",className:"cartItems",children:a})},Ve=function(){var e=k().subtotal;return Object(r.jsxs)("div",{id:"cartTotal",className:"cartTotal",children:[Object(r.jsxs)("div",{className:"cartTotal__subtotal",children:[Object(r.jsx)("p",{className:"cartTotal__subtotal__title",children:"SUBTOTAL"}),Object(r.jsxs)("p",{className:"cartTotal__subtotal__price",children:["$",e]})]}),Object(r.jsx)(o.b,{to:"/g2mask2/checkout",className:"cartTotal__subtotal__btn standardBtn--2",children:"CHECKOUT"})]})},Je=function(){var e=k().currentCart,t=Object(r.jsxs)("div",{id:"cartContent",className:"cartContent",children:[Object(r.jsx)(Ye,{}),Object(r.jsx)(Ve,{})]}),a=Object(r.jsxs)("div",{className:"cartEmpty",children:[Object(r.jsx)("h1",{className:"cartEmpty__h1",children:"CART EMPTY"}),Object(r.jsx)("i",{className:"cartEmpty__i fas fa-box-open"}),Object(r.jsx)(o.b,{className:"cartEmpty__btn standardBtn--2",to:"/g2mask2/",children:"SHOP NOW"})]}),c=e?e.length>0?t:a:Object(r.jsx)(ie,{});return Object(r.jsxs)("div",{id:"cart",className:"cart",children:[Object(r.jsx)("h1",{className:"cart__h1",children:"CART"}),c]})},Qe=function(){return Object(r.jsx)("div",{id:"account",className:"account",children:"Account"})},Xe=function(e){var t=e.label,a=e.type,c=e.error,n=(e.name,c&&"reglog__form__grp__input__error");return Object(r.jsxs)("div",{className:"reglog__form__grp",children:[Object(r.jsx)("label",{htmlFor:"reglog-form-".concat(t.replace(" ","").toLowerCase()),className:"reglog__form__grp__label",children:t}),Object(r.jsx)("input",{id:"reglog-form-".concat(t.replace(" ","").toLowerCase()),className:"reglog__form__grp__input ".concat(n),type:a,name:"".concat(t.replace(" ","").toLowerCase()),autoComplete:"off",required:!0}),Object(r.jsx)("p",{className:"reglog__form__grp__error",children:c})]})},$e=function(e){var t=e.page,a=e.forms,c=e.btnLabel,n=e.name,i=e.handleSubmit,s=e.submitError,l="Register"===c?Object(r.jsxs)("p",{className:"reglog__link",children:["Alredy have an account?",Object(r.jsx)(o.b,{to:"/g2mask2/login",className:"reglog__link__link",children:"LOGIN NOW!"})]}):Object(r.jsxs)("p",{className:"reglog__link",children:["Don't have an account?",Object(r.jsx)(o.b,{to:"/g2mask2/register",className:"reglog__link__link",children:"REGISTER Now!"})]});return Object(r.jsxs)("form",{className:"reglog__form",onSubmit:function(e){return i(e)},children:[Object(r.jsx)("h2",{className:"reglog__form__h2",children:t}),a.map((function(e){var t=e.key,a=e.label,c=e.type,i=e.error;return Object(r.jsx)(Xe,{label:a,type:c,error:i,name:n},t)})),s&&Object(r.jsx)("p",{className:"reglog__form__submit__error",children:s}),Object(r.jsx)("button",{className:"reglog__form__btn standardBtn",children:c}),l]})},Ze=function(){return Object(r.jsxs)("div",{id:"registrationSuccess",className:"registrationSuccess",children:[Object(r.jsx)("h1",{className:"registrationSuccess__h1",children:"Registration Successful"}),Object(r.jsx)("i",{className:"registrationSuccess__i far fa-check-circle"}),Object(r.jsx)("p",{className:"registrationSuccess__p",children:"Thank you for joining us!"}),Object(r.jsx)("p",{className:"registrationSuccess__p",children:"You will be redirected to LOGIN shortly..."})]})},et=function(){var e=Object(R.g)(),t=h().register,a=F().displayMessage,n=Object(c.useState)(!1),i=Object(u.a)(n,2),s=i[0],o=i[1],l=Object(c.useState)(""),d=Object(u.a)(l,2),m=d[0],j=d[1],b=Object(c.useState)({username:"",email:"",password:"",confirmpassword:""}),_=Object(u.a)(b,2),p=_[0],f=_[1],O=Object(c.useState)(!1),v=Object(u.a)(O,2),g=v[0],N=v[1],y=[{key:"reglogformgrp-username",label:"Username",type:"text",error:p.username},{key:"reglogformgrp-email",label:"Email",type:"email",error:p.email},{key:"reglogformgrp-password",label:"Password",type:"password",error:p.password},{key:"reglogformgrp-confirmation",label:"Confirm Password",type:"password",error:p.confirmpassword}];return Object(r.jsxs)("div",{id:"register",className:"reglog register",children:[Object(r.jsxs)("div",{className:"reglog__img",children:[Object(r.jsx)("h1",{className:"reglog__img__h1",children:"ALWAYS WEAR MASK"}),Object(r.jsx)("div",{className:"reglog__img__filter"})]}),s?Object(r.jsx)(G,{}):g?Object(r.jsx)(Ze,{}):Object(r.jsx)($e,{page:"Create an account",forms:y,btnLabel:"Register",handleSubmit:function(r){r.preventDefault();var c={username:document.querySelector("#reglog-form-username").value,email:document.querySelector("#reglog-form-email").value,password:document.querySelector("#reglog-form-password").value,confirmpassword:document.querySelector("#reglog-form-confirmpassword").value};o(!0),function(e){var t=!0;return f({username:"",email:"",password:"",confirmpassword:""}),e.forEach((function(e){(document.querySelector("#reglog-form-".concat(e)).value.trim().match(" ")&&(t=!1,f((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(S.a)({},e,"Invalid ".concat(e)))}))),"password"===e||"confirmpassword"===e)&&(document.querySelector("#reglog-form-password").value!==document.querySelector("#reglog-form-confirmpassword").value&&(t=!1,f((function(e){return Object(x.a)(Object(x.a)({},e),{},{password:"Password and Confirmation must match.",confirmpassword:"Password and Confirmation must match."})}))))})),t}(["username","email","password","confirmpassword"])?t(c).then((function(t){t?(N(!0),o(!1),setTimeout((function(){return e.push("/login")}),3e3)):(o(!1),a({type:"Error",content:"Username and/or Email already exists."}),j("Username and/or Email already exists."))})):o(!1)},submitError:m})]})},tt=function(){var e=h().login,t=F().displayMessage,a=Object(c.useState)(!1),n=Object(u.a)(a,2),i=n[0],s=n[1],o=Object(c.useState)(""),l=Object(u.a)(o,2),d=l[0],m=l[1],j=Object(c.useState)({username:"",password:""}),b=Object(u.a)(j,2),_=b[0],p=b[1],f=[{key:"reglogformgrp-username",label:"Username",type:"text",error:_.username},{key:"reglogformgrp-password",label:"Password",type:"password",error:_.password}];return Object(r.jsxs)("div",{id:"login",className:"reglog login",children:[Object(r.jsxs)("div",{className:"reglog__img",children:[Object(r.jsx)("h1",{className:"reglog__img__h1",children:"ALWAYS WEAR MASK"}),Object(r.jsx)("div",{className:"reglog__img__filter"})]}),i?Object(r.jsx)(G,{}):Object(r.jsx)($e,{page:"Welcome back",forms:f,btnLabel:"Login",handleSubmit:function(a){a.preventDefault();var r={username:document.querySelector("#reglog-form-username").value,password:document.querySelector("#reglog-form-password").value};s(!0),function(e){var t=!0;return p({username:"",password:""}),e.forEach((function(e){document.querySelector("#reglog-form-".concat(e)).value.trim().match(" ")&&(t=!1,p((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(S.a)({},e,"Invalid ".concat(e)))})))})),t}(["username","password"])?e(r).then((function(e){e||(s(!1),t({type:"Error",content:"Invalid username and/or password."}),m("Invalid username/password"))})):s(!1)},name:"login",submitError:d})]})},at=function(){return Object(r.jsx)("div",{id:"error",className:"error",children:"Error"})},rt=function(e){var t,a=e.section,c=e.label,n=e.name,i=e.title,s=e.type,o=e.choices,l=e.handleSelectShipping,d=e.errors,m=Object.keys(d).length>0&&d[a][n],u=m&&"checkoutForm__grp__text__input__error",j=m&&"checkoutForm__grp__radio__grp__con__error";switch(s){case"text":t=Object(r.jsxs)("div",{className:"checkoutForm__grp__text",children:[Object(r.jsx)("label",{htmlFor:"checkoutForm__grp__text__".concat(a,"__").concat(n),className:"checkoutForm__grp__text__label",children:c}),Object(r.jsx)("input",{id:"checkoutForm__grp__text__".concat(a,"__").concat(n),type:"text",name:"".concat(a,"-").concat(n),className:"checkoutForm__grp__text__input ".concat(u),autoComplete:"off",required:!0})]},"checkoutForm__grp__text");break;case"number":t=Object(r.jsxs)("div",{className:"checkoutForm__grp__text",children:[Object(r.jsx)("label",{htmlFor:"checkoutForm__grp__text__".concat(a,"__").concat(n),className:"checkoutForm__grp__text__label",children:c}),Object(r.jsx)("input",{id:"checkoutForm__grp__text__".concat(a,"__").concat(n),type:"tel",name:"".concat(a,"-").concat(n),className:"checkoutForm__grp__text__input ".concat(u),maxLength:"16",autoComplete:"off",required:!0})]},"checkoutForm__grp__text");break;case"radio":t=Object(r.jsxs)("div",{className:"checkoutForm__grp__radio__grp",children:[Object(r.jsx)("p",{className:"checkoutForm__grp__radio__grp__title",children:i}),Object(r.jsx)("div",{className:"checkoutForm__grp__radio__grp__con ".concat(j),children:o.map((function(e,t){return Object(r.jsxs)("div",{className:"checkoutForm__grp__radio",children:[Object(r.jsx)("input",{id:"checkoutForm__grp__radio__".concat(a,"__").concat(e.value),type:"radio",name:"".concat(a,"-").concat(n),className:"checkoutForm__grp__radio__input",value:e.value,onChange:function(e){return function(e){"shipping_method"===n&&l(e)}(e)}}),Object(r.jsx)("label",{htmlFor:"checkoutForm__grp__radio__".concat(a,"__").concat(e.value),className:"checkoutForm__grp__radio__label",children:e.display})]},"checkoutForm__grp__radio--".concat(c,"--").concat(t))}))})]})}return Object(r.jsxs)("div",{className:"checkoutForm__grp",children:[t,m&&Object(r.jsx)("p",{className:"checkoutForm__grp__error",children:d[a][n]})]})},ct=function(e){var t=e.title,a=e.fields,c=e.section,n=e.errors,i=e.handleSelectShipping;return Object(r.jsxs)("div",{className:"checkoutForm__address",children:[Object(r.jsx)("h1",{className:"checkoutForm__address__h1",children:t}),a.map((function(e,t){return Object(r.jsx)(rt,{section:c,label:e.label,name:e.name,type:e.type,choices:e.choices,title:e.title,errors:n,handleSelectShipping:i},"checkoutformgrp-".concat(t))}))]})},nt={shipping_method:[{label:"Shipping Method",name:"shipping_method",type:"radio",title:"Please choose a shipping method:",choices:[{value:"standard",display:"Standard (+$20)"},{value:"priority",display:"Priority (+$100)"}]}],shipping:[{label:"First Name",name:"firstname",type:"text"},{label:"Last Name",name:"lastname",type:"text"},{label:"Flat / Room",name:"flat",type:"text"},{label:"Building / Apartment",name:"apartment",type:"text"},{label:"Street",name:"street",type:"text"},{label:"Area",name:"area",type:"text"},{label:"District",name:"district",type:"radio",title:"District",choices:[{value:"Hong Kong Island",display:"Hong Kong Island"},{value:"Kowloon",display:"Kowloon"},{value:"New Territories",display:"New Territories"}]}],billing:[{label:"First Name",name:"firstname",type:"text"},{label:"Last Name",name:"lastname",type:"text"},{label:"Flat / Room",name:"flat",type:"text"},{label:"Building / Apartment",name:"apartment",type:"text"},{label:"Street",name:"street",type:"text"},{label:"Area",name:"area",type:"text"},{label:"District",name:"district",type:"radio",title:"District",choices:[{value:"Hong Kong Island",display:"Hong Kong Island"},{value:"Kowloon",display:"Kowloon"},{value:"New Territories",display:"New Territories"}]}],payment:[{label:"Card Type",name:"method",type:"radio",title:"Card Type",choices:[{value:"visa",display:"VISA"},{value:"master",display:"Mastercard"}]},{label:"Card Number",name:"card_number",type:"number"},{label:"Card Holder's First Name",name:"card_holder_firstname",type:"text"},{label:"Card Holder's Last Name",name:"card_holder_lastname",type:"text"}]},it=function(e){var t=e.shippingMethod,a=e.handleSelectShipping,c=e.errors,n=t&&Object(r.jsx)(ct,{title:"Shipping Address",fields:nt.shipping,section:"shipping",errors:c},"checkoutformshippingaddresss");return Object(r.jsxs)("div",{id:"checkoutDetails",className:"checkoutDetails",children:[Object(r.jsx)(ct,{title:"Shipping Method",fields:nt.shipping_method,section:"shipping_method",handleSelectShipping:a,errors:c},"checkoutform1"),n,Object(r.jsx)(ct,{title:"Billing Address",fields:nt.billing,section:"billing",errors:c},"checkoutformbillingaddresss"),Object(r.jsx)(ct,{title:"Payment",fields:nt.payment,section:"payment",errors:c},"checkoutformpayment")]})},st=function(e){var t=e.item,a=t.mask,c=a.name,n=a.brand,i=a.price_current,s=t.size,o=t.cart.quantity,l=(Number(i)*o).toFixed(1);return Object(r.jsxs)("div",{className:"checkoutInfo__itemCard",children:[Object(r.jsxs)("div",{className:"checkoutInfo__itemCard__details",children:[Object(r.jsx)("p",{className:"checkoutInfo__itemCard__name",children:c}),Object(r.jsx)("p",{className:"checkoutInfo__itemCard__brand",children:n.name}),Object(r.jsx)("p",{className:"checkoutInfo__itemCard__size",children:s}),Object(r.jsxs)("p",{className:"checkoutInfo__itemCard__quantity",children:["QUANTITY: ",Object(r.jsx)("span",{className:"checkoutInfo__itemCard__quantity__span",children:o})]})]}),Object(r.jsx)("div",{className:"checkoutInfo__itemCard__price",children:Object(r.jsxs)("p",{className:"checkoutInfo__itemCard__price__price",children:["$ ",l]})})]})},ot=function(e){var t=e.title,a=e.price;return Object(r.jsxs)("div",{className:"checkoutInfo__display__priceCard",children:[Object(r.jsx)("p",{className:"checkoutInfo__display__priceCard__title",children:t}),Object(r.jsxs)("p",{className:"checkoutInfo__display__priceCard__price",children:["$ ",a]})]})},lt=function(e){var t=e.shipping,a=e.total,c=k(),n=c.currentCart,i=c.subtotal,s=n&&i&&Object(r.jsxs)("div",{className:"checkoutInfo__display",children:[Object(r.jsx)("div",{className:"checkoutInfo__display__items",children:n.map((function(e,t){return Object(r.jsx)(st,{item:e},"checkoutinfodisplayitemcard-".concat(t))}))}),Object(r.jsxs)("div",{className:"checkoutInfo__display__price",children:[Object(r.jsx)(ot,{title:"SUBTOTAL",price:i},"checkoutinfopricecard-subtotal"),Object(r.jsx)(ot,{title:"SHIPPING",price:t},"checkoutinfopricecard-shipping"),Object(r.jsx)(ot,{title:"TOTAL",price:a},"checkoutinfopricecard-total")]}),Object(r.jsx)("button",{className:"checkout__btn standardBtn--2",children:"CONFIRM CHECKOUT"})]}),o=n?s:Object(r.jsx)(G,{});return Object(r.jsx)("div",{id:"checkoutInfo",className:"checkoutInfo",children:o})},dt=function(){var e=Object(R.g)(),t=p().user,a=h().logoutKeepCart,n=k(),i=n.cart,s=n.subtotal,o=n.resetCart,l=F().displayMessage,d=Object(c.useState)(0),m=Object(u.a)(d,2),b=m[0],_=m[1],f=Object(c.useState)("not_selected"),O=Object(u.a)(f,2),v=O[0],g=O[1],N=Object(c.useState)((function(){return L()})),y=Object(u.a)(N,2),I=y[0],C=y[1],w=Object(c.useState)({isValid:!0,shipping_method:{},shipping:{},billing:{},payment:{}}),E=Object(u.a)(w,2),T=E[0],A=E[1],D={default:0,standard:20,priority:100};function P(r){(r.preventDefault(),function(e){var t=e.sections,a=document.querySelector("#checkoutContent");A({isValid:!0,shipping_method:{},shipping:{},billing:{},payment:{}});var r=!0;return t.forEach((function(e){nt[e].forEach((function(t){""===a["".concat(e,"-").concat(t.name)].value.trim()&&(A((function(a){return Object(x.a)(Object(x.a)({},a),{},Object(S.a)({},e,Object(x.a)(Object(x.a)({},a[e]),{},Object(S.a)({},t.name,"".concat(t.label," must not be empty.")))))})),r=!1)}))})),r}({sections:["shipping_method","shipping","billing","payment"]}))&&function(r){var c={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(r)};c.headers.Authorization=t&&"Bearer ".concat(t.access),console.log(c),fetch("".concat(j,"eshop/createorder/"),c).then((function(e){return e.json()})).then((function(t){return console.log(t),t.detail&&"Given token not valid for any token type"===t.detail?(l({type:"Error",content:"Your previous login session is over. Please login again."}),a(),void e.push("/g2mask2/login")):(o(),e.push({pathname:"/g2mask2/order/".concat(t.uuid)}),t)}))}(function(){var e=M({section:"shipping",fields:nt.shipping}),a=M({section:"billing",fields:nt.billing}),r=M({section:"payment",fields:nt.payment});return{user:t&&t.id,shipping:e,billing:a,payment:r,shipping_method:v,cart:i}}())}function L(e){var t=e||b;return(Number(s)+t).toFixed(1)}function M(e){var t=e.section,a=e.fields,r=document.querySelector("#checkoutContent"),c={};return a.forEach((function(e){var a=r["".concat(t,"-").concat(e.name)].value.trim();c=Object(x.a)(Object(x.a)({},c),{},Object(S.a)({},e.name,a)),""===a&&A((function(a){return Object(x.a)(Object(x.a)({},a),{},Object(S.a)({isValid:!1},t,Object(x.a)(Object(x.a)({},a[t]),{},Object(S.a)({},e.name,"".concat(e.label," must not be empty.")))))}))})),c}return Object(c.useEffect)((function(){C((Number(s)+b).toFixed(1))}),[b,s]),Object(r.jsxs)("div",{id:"checkout",className:"checkout",children:[Object(r.jsx)("h1",{className:"checkout__h1",children:"CHECKOUT"}),Object(r.jsxs)("form",{id:"checkoutContent",className:"checkoutContent",onSubmit:function(e){return P(e)},children:[Object(r.jsx)(it,{shippingMethod:v,handleSelectShipping:function(){var e=document.querySelector("#checkoutContent")["shipping_method-shipping_method"].value;_(D[e]),g(e),C(L(D[e]))},handleSubmit:P,errors:T},"checkoutform"),Object(r.jsx)(lt,{shipping:b,total:I},"checkoutinfo")]})]})},mt={createItem:[{title:"MASK NAME",name:"name",type:"text",required:!0},{title:"TYPE",name:"mask_type",type:"select",choiceSource:"type"},{title:"BRAND",name:"brand",type:"select",choiceSource:"brand"},{title:"BRAND (Others)",name:"other_brand",type:"text",required:!1},{title:"DESCRIPTION",name:"description",type:"text",required:!0},{title:"IMAGE URL",name:"img",type:"url",required:!0},{title:"PROTECTIONS",name:"protection",type:"checkbox",choiceSource:"protection"},{title:"COLOR",name:"color",type:"text",required:!0},{title:"ORIGINAL",name:"origin",type:"select",choiceSource:"origin"},{title:"PRICE",name:"price",type:"text-text",fields:[{name:"current",required:!0},{name:"original",required:!0}]},{title:"ITEM ON SALE?",name:"is_sale",type:"radio",choices:[{choice:"YES",value:!0},{choice:"NO",value:!0}]},{title:"ACTIVE ITEM?",name:"is_active",type:"radio",choices:[{choice:"YES",value:!0},{choice:"NO",value:!0}]},{title:"VARIATIONS",name:"variations",type:"checkbox-text",choices:[{name:"extraSmall",value:"XS",choice:"XS, Extra Small"},{name:"small",value:"S",choice:"S, Small"},{name:"medium",value:"M",choice:"M, Medium"},{name:"large",value:"L",choice:"L, Large"},{name:"extraLarge",value:"XL",choice:"XL, Extra Large"},{name:"kid",value:"KID",choice:"Kid"},{name:"junior",value:"JUN",choice:"Junior"},{name:"adult",value:"ADU",choice:"Adult"}]}]},ut=function(e){var t,a,c=e.item,n=c.title,i=c.name,s=c.type,o=c.choices,l=c.choiceSource,d=c.fields,m=c.required,u=e.error,j=w().filter;switch(s){case"select":t=o?o.map((function(e,t){return Object(r.jsx)("option",{value:e.value,children:e.display},"choice-".concat(i,"-").concat(t))})):j[l].map((function(e,t){return Object(r.jsx)("option",{value:e.id,children:e.choice},"choice-".concat(i,"-").concat(t))})),a=Object(r.jsx)("div",{className:"adminItemFormGrp__con",children:Object(r.jsxs)("select",{id:"adminItemFormGrp_".concat(i),className:"adminItemFormGrp__con__select",name:i,defaultValue:"default",required:!0,children:[Object(r.jsxs)("option",{value:"default",disabled:!0,children:["Select ",n]}),t,"brand"===i&&Object(r.jsx)("option",{value:"others",children:"Other. Please provide."})]})});break;case"checkbox":t=o?o.map((function(e,t){return Object(r.jsxs)("div",{className:"adminItemFormGrp__checkbox",children:[Object(r.jsx)("input",{id:"".concat(i,"-checkbox-").concat(t),className:"adminItemFormGrp__checkbox__checkbox",type:"checkbox",name:i,value:e.id}),Object(r.jsx)("label",{className:"adminItemFormGrp__checkbox__label",children:e.choice})]},"".concat(i,"-checkbox-").concat(t))})):j[l].map((function(e,t){return Object(r.jsxs)("div",{className:"adminItemFormGrp__checkbox",children:[Object(r.jsx)("input",{id:"".concat(i,"-checkbox-").concat(t),className:"adminItemFormGrp__checkbox__checkbox",type:"checkbox",name:i,value:e.id,"data-name":e.choice}),Object(r.jsx)("label",{htmlFor:"".concat(i,"-checkbox-").concat(t),className:"adminItemFormGrp__checkbox__label",children:e.choice})]},"".concat(i,"-checkbox-").concat(t))})),a=Object(r.jsx)("div",{className:"adminItemFormGrp__con",children:t});break;case"radio":t=o?o.map((function(e,t){return Object(r.jsxs)("div",{className:"adminItemFormGrp__checkbox",children:[Object(r.jsx)("input",{id:"".concat(i,"-radio-").concat(t),className:"adminItemFormGrp__checkbox__checkbox",type:"radio",name:i,value:e.value}),Object(r.jsx)("label",{htmlFor:"".concat(i,"-radio-").concat(t),className:"adminItemFormGrp__checkbox__label",children:e.choice})]},"".concat(i,"-radio-").concat(t))})):j[l].map((function(e,t){return Object(r.jsxs)("div",{className:"adminItemFormGrp__checkbox",children:[Object(r.jsx)("input",{id:"".concat(i,"-radio-").concat(t),className:"adminItemFormGrp__checkbox__checkbox",type:"radio",name:i,value:e.value}),Object(r.jsx)("label",{htmlFor:"".concat(i,"-radio-").concat(t),className:"adminItemFormGrp__checkbox__label",children:e.choice})]},"".concat(i,"-radio-").concat(t))})),a=Object(r.jsx)("div",{className:"adminItemFormGrp__con",children:t});break;case"text-text":t=d.map((function(e,t){return Object(r.jsxs)("div",{className:"adminItemFormGrp__con--texttext",children:[Object(r.jsx)("p",{className:"adminItemFormGrp__con--texttext__p",children:e.name.toUpperCase()}),Object(r.jsx)("input",{id:"adminItemFormGrp_".concat(e.name),className:"adminItemFormGrp__con__text",type:"text",name:e.name,required:e.required})]},"adminItemFormGrp__con--texttext-".concat(i,"-").concat(t))})),a=Object(r.jsx)("div",{className:"adminItemFormGrp__con",children:t});break;case"checkbox-text":t=o.map((function(e,t){return Object(r.jsxs)("div",{className:"adminItemFormGrp__checkboxText__box",children:[Object(r.jsx)("input",{id:"".concat(i,"-checkboxText-").concat(t,"-checkbox"),className:"adminItemFormGrp__checkboxText__box__checkbox",type:"checkbox",name:i,value:e.value,"data-name":e.choice}),Object(r.jsx)("label",{htmlFor:"".concat(i,"-checkboxText-").concat(t,"-checkbox"),className:"adminItemFormGrp__checkboxText__box__label",children:e.choice}),Object(r.jsx)("input",{id:"".concat(i,"-checkboxText-").concat(t,"-input"),className:"adminItemFormGrp__checkboxText__box__input",type:"text",name:e.value,"data-name":e.choice})]},"".concat(i,"-checkboxText-").concat(t,"-checkbox"))})),a=Object(r.jsx)("div",{className:"adminItemFormGrp__con adminItemFormGrp__con--checkboxText",children:t});break;default:a=Object(r.jsx)("div",{className:"adminItemFormGrp__con",children:Object(r.jsx)("input",{id:"adminItemFormGrp_".concat(i),className:"adminItemFormGrp__con__text",type:s,name:i,required:m})})}var b=u&&"adminItemFormGrp--error";return Object(r.jsxs)("div",{className:"adminItemFormGrp ".concat(b),children:[Object(r.jsx)("h2",{className:"adminItemFormGrp__title",children:n}),a,u&&Object(r.jsxs)("p",{className:"adminItemFormGrp--error__p",children:["ERROR: ",u]})]})},jt=function(e){var t=e.fields,a=e.createEdit,n=e.setCurrentPage,i=e.editItem,s=Object(c.useRef)(),o=Object(c.useState)(t),l=Object(u.a)(o,2),d=l[0],m=l[1],j=Object(c.useState)({}),b=Object(u.a)(j,2),_=b[0],p=b[1];function h(e){var t=e.fieldName,a=e.name,r=e.type,c=document.querySelector("#adminItemForm"),n=t||a,i="",s=c[a],o=!0,l=d;if("text"===r||"tel"===r||"url"===r){if("other_brand"===a)return!0;s.value&&""!==s.value.trim("")||(o=!1,i="This field must not be left empty.")}else if("select"===r)"default"===s.value&&(o=!1,i="Please select ONE option."),"brand"===a&&"others"===s.value&&((s=c.other_brand.value)&&""!==s.trim()||(o=!1,n="other_brand",i="An alternative brand must be provided or select an existing brand."));else if("checkbox"===r){var u=!1;s.forEach((function(e){e.checked&&(u=!0)})),u||(o=!1,i="Please select AT LEAST ONE option.")}else if("variations"===a){var j=!1;s.forEach((function(e){e.checked&&""!==c[e.value].value.trim()&&(j=!0),j||(o=!1,i="Please select AT LEAST ONE option and provide it with a quantity greater than 0.")}))}else if("radio"===r){var b=!1;s.forEach((function(e){e.checked&&(b=!0)})),b||(o=!1,i="Please select ONE option.")}else if("text-text"===r){s.value.trim()>0||(o=!1,i="Please fill out all blanks of this section.")}return o?_[n]&&p((function(e){return delete e[n]})):(m(l),p((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(S.a)({},n,i))}))),o}function f(e){var t=e.fieldName,a=e.name,r=e.type,c=document.querySelector("#adminItemForm"),n=t||a,i=c[a],s={};if("text"===r||"tel"===r||"url"===r){if("other_brand"===a)return!0;s[n]=i.value}else if("select"===r)"brand"===a&&"others"===i.value?s[n]=c.other_brand.value:s[n]=Number(i.value);else if("checkbox"===r){var o=[];i.forEach((function(e){e.checked&&o.push(Number(e.value))})),s[n]=o}else if("variations"===a){var l=[];i.forEach((function(e){e.checked&&""!==c[e.value].value.trim()&&l.push({size:e.value,inventory:c[e.value].value})})),s[n]=l}else if("radio"===r){var d;i.forEach((function(e){e.checked&&(d=e.value)})),s[n]=d}else"text-text"===r&&(s["price_".concat(a)]=i.value.trim());return s}return Object(c.useEffect)((function(){i&&function(){var e=s.current,t=function(t){var a={SKIP:["id","reviews","timestamp_created","timestamp_updated"],SELECT:["mask_type","brand","origin"],CHECKBOX:["protections"],OTHERS:["price_current","price_original"],VARIATIONS:["variations"]};if(a.SKIP.includes(t))return"continue";a.SELECT.includes(t)?e[t].value=i[t].id:a.CHECKBOX.includes(t)?"protections"===t&&e.protection.forEach((function(e){i[t].includes(e.dataset.name.toUpperCase())&&(e.checked=!0)})):a.OTHERS.includes(t)?e[t.slice(6)].value=i[t]:a.VARIATIONS.includes(t)?i[t].forEach((function(t){e.variations.forEach((function(a){a.dataset.name===t.size&&(a.checked=!0,e[a.value].value=t.inventory)}))})):e[t].value=i[t]};for(var a in i)t(a)}()})),Object(r.jsxs)("form",{id:"adminItemForm",className:"adminItemForm",ref:s,onSubmit:function(e){return function(e){e.preventDefault(),n("loading");var t=!0;d.forEach((function(e){e.fields?e.fields.forEach((function(a){h({fieldName:e.name,name:a.name,type:e.type})||(t=!1)})):h({name:e.name,type:e.type})||(t=!1)})),t||window.scrollTo(0,0);var r={};d.forEach((function(e){e.fields?e.fields.forEach((function(t){r=Object(x.a)(Object(x.a)({},r),f({fieldName:e.name,name:t.name,type:e.type}))})):r=Object(x.a)(Object(x.a)({},r),f({name:e.name,type:e.type}))})),console.log(r),a({data:r})}(e)},children:[d&&d.map((function(e,t){return Object(r.jsx)(ut,{item:e,error:_[e.name]},"adminItemForm-".concat(t))})),Object(r.jsx)("button",{className:"adminItemForm__btn standardBtn--2",children:"Submit"})]})},bt=function(){var e=Object(R.g)(),t=p().user,a=g().refreshItems,n=Object(c.useState)("form"),i=Object(u.a)(n,2),s=i[0],o=i[1];var l={loading:Object(r.jsx)(ie,{}),form:Object(r.jsx)(jt,{fields:mt.createItem,createEdit:function(r){var c=r.data;fetch("".concat(j,"eshop/masks/create/"),{method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t.access)},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(t){if(console.log(t),t.details)o("form");else{var r=t.mask.id;a().then((function(t){t&&e.push("/item/".concat(r))}))}}))},setCurrentPage:o},"adminitemform")};return Object(r.jsxs)("div",{id:"adminAdd",className:"adminAdd",children:[Object(r.jsx)("h1",{className:"adminAdd__h1",children:"CREATE A NEW ITEM"}),l[s]]})},_t=function(e){var t=e.searchItem,a=e.setCurrentPage,n=Object(c.useRef)();return Object(r.jsxs)("form",{id:"adminEditSearch",className:"adminEditSearch",onSubmit:function(e){return function(e){e.preventDefault(),a("loading"),t({itemID:Number(n.current.value)})}(e)},children:[Object(r.jsx)("label",{htmlFor:"adminEditSearch__input",className:"adminEditSearch__label",children:"Please entre an item number:"}),Object(r.jsx)("input",{id:"adminEditSearch__input",className:"adminEditSearch__input",type:"tel",ref:n,required:!0}),Object(r.jsx)("button",{type:"submit",className:"adminEditSearch__btn standardBtn--2",children:"Search"})]})},pt=function(){var e=p().user,t=g().items,a=Object(c.useState)(!1),n=Object(u.a)(a,2),i=n[0],s=n[1],o=Object(c.useState)("search"),l=Object(u.a)(o,2),d=l[0],m=l[1];var b={loading:Object(r.jsx)(ie,{}),form:Object(r.jsx)(jt,{fields:mt.createItem,setCurrentPage:m,createEdit:function(t){var a=t.data;console.log("UPDATE"),console.log(a),fetch("".concat(j,"eshop/masks/update/").concat(i.id),{method:"PUT",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(e.access)},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e)})),m("form")},editItem:i},"adminitemform"),search:Object(r.jsx)(_t,{searchItem:function(e){var a=e.itemID;console.log(a),console.log(t.items);var r=t.items.filter((function(e){return e.id===a}));s(r[0]),m("form")},setCurrentPage:m},"admineditsearch")};return Object(r.jsxs)("div",{id:"adminEdit",className:"adminEdit",children:[Object(r.jsx)("h1",{className:"adminEdit__h1",children:"EDIT ITEM"}),b[d]]})},ht=function(e){var t=e.title,a=e.data;return Object(r.jsxs)("div",{id:"adminMainItemsCard",className:"adminMainItemsCard",children:[Object(r.jsx)("p",{className:"adminMainItemsCard__title",children:t}),Object(r.jsx)("p",{className:"adminMainItemsCard__data",children:a})]})},ft=function(){var e=g().items;return Object(r.jsxs)("div",{className:"adminMainItems",children:[Object(r.jsx)("div",{className:"adminMainItems__icon",children:Object(r.jsx)("i",{className:"adminMainItems__icon__i fas fa-chess-pawn"})}),Object(r.jsxs)("div",{className:"adminMainItems__details",children:[Object(r.jsx)(ht,{title:"Total Items",data:e.items.length},"adminmainitemscard-totalitems"),Object(r.jsx)(ht,{title:"On-sale",data:e.items.filter((function(e){return e.is_sale})).length},"adminmainitemscard-totalsale")]})]})},Ot=function(){return Object(r.jsx)("div",{id:"adminMain",className:"adminMain",children:Object(r.jsx)(ft,{})})},xt=function(e){var t=e.icon,a=e.page,c=e.link,n=e.setCurrentPage;return Object(r.jsxs)("button",{className:"adminNav__btn",onClick:function(){return n(c)},children:[Object(r.jsx)("i",{className:"adminNav__btn__i ".concat(t)}),Object(r.jsx)("p",{className:"adminNav__btn__p",children:a})]})},vt=function(e){var t=e.setCurrentPage;return Object(r.jsxs)("div",{id:"adminNav",className:"adminNav",children:[Object(r.jsx)(xt,{icon:"fas fa-home",page:"HOME",link:"home",setCurrentPage:t},"adminnavitem-home"),Object(r.jsx)(xt,{icon:"fas fa-plus",page:"ADD ITEM",link:"additem",setCurrentPage:t},"adminnavitem-additem"),Object(r.jsx)(xt,{icon:"fas fa-pencil-alt",page:"EDIT ITEM",link:"edititem",setCurrentPage:t},"adminnavitem-edititem"),Object(r.jsx)(xt,{icon:"fas fa-scroll",page:"ORDERS",link:"orders",setCurrentPage:t},"adminnavitem-orders")]})},gt=function(){return Object(r.jsx)("div",{id:"adminOrders",className:"adminOrders",children:"ADMINORDERS"})},Nt=function(){var e=Object(c.useState)("home"),t=Object(u.a)(e,2),a=t[0],n=t[1],i={home:Object(r.jsx)(Ot,{}),additem:Object(r.jsx)(bt,{}),edititem:Object(r.jsx)(pt,{}),orders:Object(r.jsx)(gt,{})}[a];return Object(r.jsxs)("div",{id:"admin",className:"admin",children:[Object(r.jsx)(vt,{setCurrentPage:n},"adminnav"),Object(r.jsx)("div",{id:"adminCon",className:"adminCon",children:i})]})},yt=function(){var e=p(),t=e.user,a=e.admin,c=k().cart,n=Object(r.jsx)(R.b,{exact:!0,path:"/g2mask2/cart",children:0===c.length?Object(r.jsx)(R.a,{to:"/g2mask2/"}):Object(r.jsx)(Je,{})}),i=Object(r.jsx)(R.b,{exact:!0,path:"/g2mask2/checkout",children:0===c.length?Object(r.jsx)(R.a,{to:"/g2mask2/"}):Object(r.jsx)(dt,{})}),s=Object(r.jsx)(R.b,{exact:!0,path:"/g2mask2/register",children:t?Object(r.jsx)(R.a,{to:"/g2mask2/"}):Object(r.jsx)(et,{})}),o=Object(r.jsx)(R.b,{exact:!0,path:"/g2mask2/login",children:t?Object(r.jsx)(R.a,{to:"/g2mask2/"}):Object(r.jsx)(tt,{})}),l=Object(r.jsx)(R.b,{exact:!0,path:"/g2mask2/account",children:t?Object(r.jsx)(Qe,{}):Object(r.jsx)(R.a,{to:"/g2mask2/"})}),d=Object(r.jsx)(R.b,{exact:!0,path:"/g2mask2/admin",children:a?Object(r.jsx)(Nt,{}):Object(r.jsx)(R.a,{to:"/g2mask2/"})});return Object(r.jsx)("div",{className:"main-con",children:Object(r.jsxs)(R.d,{children:[Object(r.jsx)(R.b,{path:"/g2mask2/",component:X,exact:!0}),Object(r.jsx)(R.b,{path:"/g2mask2/about",component:ne}),Object(r.jsx)(R.b,{path:"/g2mask2/item/:itemId",component:Oe}),Object(r.jsx)(R.b,{path:"/g2mask2/order",component:ke,exact:!0}),Object(r.jsx)(R.b,{path:"/g2mask2/trackorder",component:ke,exact:!0}),Object(r.jsx)(R.b,{path:"/g2mask2/order/:orderID",component:Ge}),Object(r.jsx)(R.b,{path:"/g2mask2/cart",component:Je,exact:!0}),n,i,s,o,l,d,Object(r.jsx)(R.b,{path:"/g2mask2/*",component:at})]})})},kt=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(f,{children:Object(r.jsx)(N,{children:Object(r.jsx)(E,{children:Object(r.jsx)(I,{children:Object(r.jsx)(A,{children:Object(r.jsxs)(o.a,{children:[Object(r.jsx)(q,{}),Object(r.jsx)(yt,{}),Object(r.jsx)(H,{})]})})})})})})})};s.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(kt,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.8236e3d7.chunk.js.map
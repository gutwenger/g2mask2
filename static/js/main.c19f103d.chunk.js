(this.webpackJsonpg2mask=this.webpackJsonpg2mask||[]).push([[0],{48:function(e,t,a){},49:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(1),n=a.n(r),i=a(40),s=a.n(i),o=(a(48),a(49),a(4)),l=a(7),d=a.n(l),u=a(14),m=a(2),j="https://g2mask2.herokuapp.com/",b=n.a.createContext(),_=n.a.createContext();function p(){return Object(r.useContext)(b)}function h(){return Object(r.useContext)(_)}var O=function(e){var t=e.children,a=Object(r.useState)(!1),n=Object(m.a)(a,2),i=n[0],s=n[1],o=Object(r.useState)((function(){return function(){var e=localStorage.getItem("user");if(!e)return!1;1===(e=JSON.parse(e)).id&&function(){var e=localStorage.getItem("user");!!e&&(e=JSON.parse(e),fetch("".concat(j,"eshop/token/check_admin/"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.access)}}).then((function(e){return e.json()})).then((function(e){return e.detail?(f(),s(!1),!1):(s(!0),!0)})))}();return e}()})),l=Object(m.a)(o,2),p=l[0],h=l[1];function O(){return(O=Object(u.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,c=t.password,e.abrupt("return",fetch("".concat(j,"eshop/token/"),{method:"POST",body:JSON.stringify({username:a,password:c}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){return(!e.detail||"No active account found with the given credentials"!==e.detail)&&(localStorage.setItem("user",JSON.stringify(e)),h(e),1===e.id&&s(!0),!0)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){localStorage.removeItem("user"),localStorage.removeItem("cart"),h({}),s(!1)}function x(){return(x=Object(u.a)(d.a.mark((function e(t){var a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,c=t.email,r=t.password,e.abrupt("return",fetch("".concat(j,"eshop/users/registration/"),{method:"POST",body:JSON.stringify({username:a,email:c,password:r}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){return!e.detail})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsx)(b.Provider,{value:{user:p,admin:i},children:Object(c.jsx)(_.Provider,{value:{login:function(e){return O.apply(this,arguments)},logout:f,logoutKeepCart:function(){localStorage.removeItem("user"),h({})},loginOutTest:function(){h((function(e){return!e}))},register:function(e){return x.apply(this,arguments)}},children:t})})},f=a(9),x=a(3),v=n.a.createContext();function g(){return Object(r.useContext)(v)}var N=function(e){var t=e.children,a=Object(r.useState)((function(){return o()})),n=Object(m.a)(a,2),i=n[0],s=n[1];function o(){fetch("".concat(j,"eshop/masks/")).then((function(e){return e.json()})).then((function(e){s({items:e,displayItems:e})}))}function l(){return(l=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(j,"eshop/masks/")).then((function(e){return e.json()})).then((function(e){return s({items:e,displayItems:e}),!0})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.jsx)(v.Provider,{value:{items:i,setItems:s,getItems:o,refreshItems:function(){return l.apply(this,arguments)},updateItems:function(e){var t=e.itemID,a=e.newItem,c=i.items.findIndex((function(e){return e.id===t})),r=i.items;r[c]=a,s((function(e){return Object(x.a)(Object(x.a)({},e),{},{items:r,displayItems:r})}))},getItemDetails:function(e){if(i&&e)return i.items.filter((function(t){return t.id===e}))},getItemPriceCurrent:function(e){if(i&&e){var t=i.items.filter((function(t){return t.id===e}))[0];if(t)return Number(t.price_current)}}},children:t})},y=n.a.createContext();function I(){return Object(r.useContext)(y)}var k=function(e){var t=e.children,a=Object(r.useState)((function(){return I()})),n=Object(m.a)(a,2),i=n[0],s=n[1],o=Object(r.useState)(null),l=Object(m.a)(o,2),b=l[0],_=l[1],p=Object(r.useState)(0),h=Object(m.a)(p,2),O=h[0],v=h[1],N=g().getItemPriceCurrent;function I(){var e=localStorage.getItem("cart");return e?JSON.parse(e):[]}function k(){return(k=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.map((function(e){return e.variationID})),e.abrupt("return",fetch("".concat(j,"eshop/masks_variations_details/"),{method:"POST",body:JSON.stringify({items:t}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){return console.log(e),e})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){localStorage.setItem("cart",JSON.stringify(e)),s(e)}function S(e){var t=e.prevItemIndex,a=e.variationID,c=e.quantity;if(w(c)&&(t||!((t=E(a))<0))){var r=c;if(!(r>50||r<0))i[t].quantity=r,C(i)}}function w(e){return e>=-50||e<=50}function E(e){return i.findIndex((function(t){return t.variationID===e}))}return Object(r.useEffect)((function(){I(),function(){if(0!==i.length){var e=i.map((function(e){return e.variationID}));fetch("".concat(j,"eshop/masks_variations_details/"),{method:"POST",body:JSON.stringify({items:e}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){return e.json()})).then((function(e){e=e.map((function(e,t){return Object(x.a)(Object(x.a)({},e),{},{cart:i[t]})})),_(e);var t=e.reduce((function(e,t){return e+t.cart.quantity*t.mask.price_current}),0);v(t.toFixed(1))}))}else _([])}()}),[i]),Object(c.jsx)(y.Provider,{value:{cart:i,setCart:s,currentCart:b,subtotal:O,getCartTotalItems:function(){return i?i.length:0},getCartSubtotal:function(){var e=i.reduce((function(e,t){return e+t.quantity*N(t.itemID)}),0).toFixed(1);return v(e),e},getCartLatestDetails:function(){return k.apply(this,arguments)},addCartItem:function(e){var t=e.itemID,a=e.variationID,c=e.quantity;if(w(c)&&a){var r=E(a);if(r>=0)S({prevItemIndex:r,variationID:a,quantity:c});else{var n={itemID:t,variationID:a,quantity:c};C([].concat(Object(f.a)(i),[n]))}}},removeCartItem:function(e){C(i.filter((function(t){return t.variationID!==e})))},changeCartItemQuantity:S,checkQuantityValidity:w,resetCart:function(){s([]),_([]),v(0),localStorage.removeItem("cart")}},children:t})},C=a(8),S=n.a.createContext();function w(){return Object(r.useContext)(S)}var E=function(e){var t=e.children,a=g(),n=a.items,i=a.setItems,s=Object(r.useState)((function(){fetch("".concat(j,"eshop/filter/")).then((function(e){return e.json()})).then((function(e){d(e)}))})),o=Object(m.a)(s,2),l=o[0],d=o[1],u=Object(r.useState)({type:[],protection:[],origin:[],brand:[]}),b=Object(m.a)(u,2),_=b[0],p=b[1],h=Object(r.useState)("newest"),O=Object(m.a)(h,2),v=O[0],N=O[1];return Object(c.jsx)(S.Provider,{value:{filter:l,filterOptions:_,changeFilter:function(e){var t=e.category,a=e.value,c=_[t];c.includes(a)?c=c.filter((function(e){return e!==a})):c.push(a);var r=Object(x.a)(Object(x.a)({},_),{},Object(C.a)({},t,c));p(r),function(e){var t=e.options,a=new Set(n.items),c=function(e){if(0===t[e].length)return"continue";var c=new Set(a),r=new Set;t[e].forEach((function(t){var a=[];switch(e){case"type":a=Object(f.a)(c).filter((function(e){return t===e.mask_type.category}));break;case"protection":a=Object(f.a)(c).filter((function(e){return e.protections.includes(t)}));break;case"origin":a=Object(f.a)(c).filter((function(e){return t===e.origin.country}));break;case"brand":a=Object(f.a)(c).filter((function(e){return t===e.brand.name}))}a.forEach((function(e){return r.add(e)}))})),a=new Set(r)};for(var r in t)c(r);var s=Array.from(a);i((function(e){return Object(x.a)(Object(x.a)({},e),{},{displayItems:s})}))}({options:r})},resetFilter:function(){var e=Object(x.a)(Object(x.a)({},n),{},{displayItems:n.items});N("newest"),i(e),p({type:[],protection:[],origin:[],brand:[]})},sortOption:v,sortItems:function(e){var t=e.option,a={newest:function(e,t){return new Date(t.timestamp_updated)-new Date(e.timestamp_updated)},oldest:function(e,t){return new Date(e.timestamp_updated)-new Date(t.timestamp_updated)},priceLow:function(e,t){return e.price_current-t.price_current},priceHigh:function(e,t){return t.price_current-e.price_current}};N(t),i((function(e){return Object(x.a)(Object(x.a)({},e),{},{displayItems:n.displayItems.sort(a[t])})}))}},children:t})},T=n.a.createContext();function F(){return Object(r.useContext)(T)}var A=function(e){var t=e.children,a=Object(r.useState)(!1),n=Object(m.a)(a,2),i=n[0],s=n[1];return Object(c.jsx)(T.Provider,{value:{message:i,displayMessage:function(e){var t=e.type,a=e.content;s({type:t,content:a})},closeMessage:function(){s(!1)}},children:t})},R=a(5),D=function(){return Object(c.jsx)(o.b,{to:"/",id:"navbarlogo",className:"navbarlogo",children:"G2MASK"})},P=function(){var e=F(),t=e.message,a=e.closeMessage;return t&&Object(c.jsxs)("div",{id:"navbarMessage",className:"navbarMessage",children:[Object(c.jsx)("p",{className:"navbarMessage__p",children:t.content}),Object(c.jsx)("button",{className:"navbarMessage__btn",onClick:function(){return a()},children:Object(c.jsx)("i",{className:"navbarMessage__btn__i fas fa-times"})})]})},M=function(e){var t=e.path,a=e.pageName,r=e.closeNavbar,n=I().getCartTotalItems,i="CART"===a&&n()>0&&Object(c.jsx)("p",{className:"navbarcon__ul__li__link__cartNumber",children:n()}),s="CART"===a&&n()>0&&"navbarcon__ul__li__link--cart",l=Object(c.jsxs)(o.b,{to:t,className:"navbarcon__ul__li__link ".concat(s),onClick:function(){return r(!1)},children:[a,i]});return Object(c.jsx)("li",{className:"navbarcon__ul__li",children:l})},L=function(e){var t=e.closeNavbar,a=Object(R.g)(),r=h().logout,n=I().resetCart;return Object(c.jsx)("li",{className:"navbarcon__ul__li",children:Object(c.jsx)("button",{className:"navbarcon__ul__li__logout",onClick:function(){return r(),t(),n(),a.push("/"),a.replace("/"),void window.location.reload()},children:"LOGOUT"})})},q=function(){var e=p(),t=e.user,a=e.admin,n=Object(r.useState)((function(){return l()})),i=Object(m.a)(n,2),s=i[0],o=i[1];function l(){return window.innerWidth>600}function d(){l()||o(!1)}Object(r.useEffect)((function(){window.addEventListener("resize",(function(){return o(l())}))}));var u=s&&Object(c.jsx)("nav",{id:"navbarcon",className:"navbarcon",children:Object(c.jsxs)("ul",{id:"navbarcon__ul",className:"navbarcon__ul",children:[Object(c.jsx)(M,{path:"/about",pageName:"ABOUT",closeNavbar:d},"navbarlink-about"),Object(c.jsx)(M,{path:"/",pageName:"SHOP",closeNavbar:d},"navbarlink-home"),Object(c.jsx)(M,{path:"/trackorder",pageName:"TRACK ORDER",closeNavbar:d},"navbarlink-trackorder"),Object(c.jsx)(M,{path:"/cart",pageName:"CART",closeNavbar:d},"navbarlink-cart"),!t&&Object(c.jsx)(M,{path:"/register",pageName:"REGISTER",closeNavbar:d},"navbarlink-register"),!t&&Object(c.jsx)(M,{path:"/login",pageName:"LOGIN",closeNavbar:d},"navbarlink-login"),t&&Object(c.jsx)(M,{path:"/account",pageName:"ACCOUNT",closeNavbar:d},"navbarlink-account"),t&&Object(c.jsx)(L,{closeNavbar:d},"navbarlink-logout"),a&&Object(c.jsx)(M,{path:"/admin",pageName:"ADMIN",closeNavbar:d},"navbarlink-admin")]})});return Object(c.jsxs)("div",{id:"navbar",className:"navbar",children:[Object(c.jsx)(D,{}),Object(c.jsx)("button",{className:"navbar__btn ".concat(s?"navbar__btn--close":"navbar__btn--open"),onClick:function(){return o((function(e){return!e}))},children:Object(c.jsx)("i",{className:"navbar__btn__i ".concat(s?"fas fa-times":"fas fa-bars")})}),u,Object(c.jsx)(P,{})]})},H=function(){return Object(c.jsxs)("div",{id:"footer",className:"footer",children:[Object(c.jsx)("div",{id:"footerLogo",className:"footerLogo",children:Object(c.jsx)(o.b,{to:"/g2mask2/",className:"footerLogo__link",children:"G2MASK"})}),Object(c.jsxs)("div",{id:"footernav",className:"footernav",children:[Object(c.jsx)(o.b,{to:"/about",className:"footernav__link",children:"ABOUT"}),Object(c.jsx)(o.b,{to:"/about",className:"footernav__link",children:"CAREER"}),Object(c.jsx)(o.b,{to:"/about",className:"footernav__link",children:"CONTACT"})]}),Object(c.jsxs)("div",{id:"footerFollow",className:"footerFollow",children:[Object(c.jsx)("h2",{className:"footerFollow__h2",children:"FOLLOW US ON:"}),Object(c.jsxs)("div",{id:"footerFollow__div",className:"footerFollow__div",children:[Object(c.jsx)("i",{className:"footerFollow__div__i fab fa-facebook-f"}),Object(c.jsx)("i",{className:"footerFollow__div__i fab fa-twitter"}),Object(c.jsx)("i",{className:"footerFollow__div__i fab fa-instagram"})]})]})]})},B=function(){return Object(c.jsx)("div",{id:"loadingSmall",className:"loadingSmall",children:Object(c.jsx)("i",{className:"loadingSmall__i fas fa-spinner"})})},G=function(e){var t=e.option,a=t.id,r=t.category,n=t.choice,i=t.value,s=w(),o=s.filterOptions,l=s.changeFilter;return Object(c.jsxs)("div",{className:"filterbox__option",children:[Object(c.jsx)("input",{type:"checkbox",id:"filterbox-option-".concat(i),className:"filterbox__option__input",name:r,value:a,onChange:function(){return l({category:r,value:i})},checked:o[r].includes(i)}),Object(c.jsx)("div",{className:"filterbox__option__div"}),Object(c.jsx)("label",{htmlFor:"filterbox-option-".concat(i),className:"filterbox__option__label",children:n})]})},U=function(e){var t=e.filterType,a=e.options;return Object(c.jsxs)("div",{id:"filterbox-".concat(t),className:"filterbox",children:[Object(c.jsx)("h3",{className:"filterbox__h3",children:t}),Object(c.jsx)("div",{className:"filterbox__options",children:a.map((function(e,a){return Object(c.jsx)(G,{option:e},"filterboxoptions-".concat(t,"-").concat(a))}))})]})},Y=function(){var e=w(),t=e.filter,a=e.resetFilter,n=Object(r.useState)(!1),i=Object(m.a)(n,2),s=i[0],o=i[1],l=Object(r.useRef)(),d=Object(r.useRef)();var u=t?Object(c.jsxs)("div",{className:"filter__content",children:[Object(c.jsxs)("div",{className:"filter__down",children:[Object(c.jsx)(U,{filterType:"TYPE",options:t.type},"filterbox-type"),Object(c.jsx)(U,{filterType:"PROTECTION",options:t.protection},"filterbox-protection"),Object(c.jsx)(U,{filterType:"ORIGIN",options:t.origin},"filterbox-origin"),Object(c.jsx)(U,{filterType:"BRAND",options:t.brand},"filterbox-brand")]}),Object(c.jsx)("button",{className:"standardBtn",onClick:function(){return a()},children:"RESET"})]}):Object(c.jsx)(B,{}),j=s&&u;return Object(c.jsxs)("div",{id:"filter",className:"filter",ref:l,children:[Object(c.jsx)("div",{className:"filter__up",children:Object(c.jsxs)("button",{className:"filter__up__btn",onClick:function(){return o((function(e){return!e})),void(s?(d.current.classList.replace("filter__up__btn__i--open","filter__up__btn__i--close"),l.current.style.border="1px solid transparent"):(d.current.classList.replace("filter__up__btn__i--close","filter__up__btn__i--open"),l.current.style.border="1px solid #ff33a0"))},children:[Object(c.jsx)("p",{className:"filter__up__btn__p",children:"Filter"}),Object(c.jsx)("i",{className:"filter__up__btn__i filter__up__btn__i--close fas fa-plus",ref:d})]})}),j]})},K=function(e){var t=e.sloganH2,a=e.sloganP;return Object(c.jsxs)("div",{id:"mainhero",className:"mainhero",children:[Object(c.jsx)("h2",{className:"mainhero__h2",children:t}),Object(c.jsx)("p",{className:"mainhero__p",children:a}),Object(c.jsx)("div",{className:"mainhero__filter"})]})},W=function(e){var t=e.item,a=t.id,r=t.brand,n=t.name,i=t.price_current,s=t.price_original,l=t.img,d=t.is_sale?Object(c.jsxs)("div",{className:"mainitem__down",children:[Object(c.jsx)("p",{className:"mainitem__down__priceCurrent mainitem__down__priceCurrent--sale",children:i}),Object(c.jsx)("p",{className:"mainitem__down__priceOriginal",children:s})]}):Object(c.jsx)("div",{className:"mainitem__down",children:Object(c.jsx)("p",{className:"mainitem__down__priceCurrent",children:i})});return Object(c.jsxs)(o.b,{to:"/item/".concat(a),className:"mainitem",children:[Object(c.jsx)("div",{className:"mainitem__up",children:Object(c.jsx)("img",{src:l,className:"mainitem__up__img",alt:n})}),Object(c.jsxs)("div",{className:"mainitem__details",children:[Object(c.jsxs)("div",{className:"mainitem__mid",children:[Object(c.jsx)("p",{className:"mainitem__mid__name",children:n}),Object(c.jsx)("p",{className:"mainitem__mid__brand",children:r.name})]}),d]})]})},z=function(){return Object(c.jsxs)("div",{id:"mainEmpty",className:"mainEmpty",children:[Object(c.jsx)("i",{className:"mainEmpty__i fas fa-exclamation-circle"}),Object(c.jsx)("p",{className:"mainEmpty__p",children:"Opps! No result!"})]})};function J(e){var t=e.input,a=e.itemsPerPage,c=[],r=[];return t.forEach((function(e,t){0!==t&t%a===0?(c.push(r),r=[e]):r.push(e)})),c.length<Math.ceil(t.length/a)&&c.push(r),c}var V=function(){var e=g().items,t=Object(r.useCallback)((function(){if(e){var t=J({input:e.displayItems.length>0?e.displayItems:e.items,itemsPerPage:8});return{paginatedItems:t,displayItems:t[0],pages:t.length,currentPage:0}}}),[e]),a=Object(r.useState)((function(){return t()})),n=Object(m.a)(a,2),i=n[0],s=n[1];Object(r.useEffect)((function(){e&&s((function(){return t()}))}),[e,s,t]);var o=i&&i.currentPage<i.pages-1&&Object(c.jsx)("button",{className:"mainmenu__showmore standardBtn--2",onClick:function(){return function(){if(i.currentPage===i.pages-1)return;var e=i.currentPage+1,t=Object(x.a)(Object(x.a)({},i),{},{displayItems:[].concat(Object(f.a)(i.displayItems),Object(f.a)(i.paginatedItems[e])),currentPage:e,next:e<i.pages-1});s(t)}()},children:"Show More"});return e?e.displayItems.length>0?Object(c.jsxs)("div",{id:"mainmenu",className:"mainmenu",children:[Object(c.jsx)("div",{id:"mainmenu__con",className:"mainmenu__con",children:i&&i.displayItems.map((function(e,t){return Object(c.jsx)(W,{item:e},"mainitem-".concat(t))}))}),o]}):Object(c.jsx)(z,{}):Object(c.jsx)("div",{id:"mainmenu",className:"mainmenu",children:Object(c.jsx)(B,{})})},Q=function(){var e=w(),t=e.sortOption,a=e.sortItems;return Object(c.jsx)("div",{id:"sort",className:"sort",children:Object(c.jsxs)("select",{className:"sort__select",value:t,onChange:function(e){return function(e){var t=e.target.value;a({option:t})}(e)},children:[Object(c.jsx)("option",{value:"newest",children:"Newest"}),Object(c.jsx)("option",{value:"oldest",children:"Oldest"}),Object(c.jsx)("option",{value:"priceLow",children:"Price Low to High"}),Object(c.jsx)("option",{value:"priceHigh",children:"Price High to Low"})]})})},X=function(){var e=g().items;return Object(c.jsxs)("div",{id:"main",className:"main",children:[Object(c.jsx)(K,{sloganH2:"WEAR MASK!",sloganP:"PROTECT YOURSELF AND YOUR LOVE ONES"}),e&&Object(c.jsx)(Y,{}),e&&Object(c.jsx)(Q,{}),Object(c.jsx)(V,{})]})},$=function(){var e=Object(r.useRef)(),t=Object(r.useState)(!1),a=Object(m.a)(t,2),n=a[0],i=a[1],s=Object(c.jsxs)("div",{className:"aboutHero__slogan",children:[Object(c.jsx)("h1",{className:"aboutHero__slogan__h1",children:"WEARING MASK IS"}),Object(c.jsx)("p",{className:"aboutHero__slogan__p",children:"UNCOMFORTABLE?"}),Object(c.jsx)("p",{className:"aboutHero__slogan__p",children:"DIFFICULT TO BREATHE?"}),Object(c.jsx)("p",{className:"aboutHero__slogan__p",children:"EXPENSIVE?"})]}),l=Object(c.jsx)("div",{className:"aboutHero__slogan aboutHero__slogan--activate",children:Object(c.jsx)("p",{className:"aboutHero__slogan__p",children:"ENJOY EVERY BREATH AGAIN"})});function d(){i((function(e){return!e})),e.current.className="aboutHero__filter aboutHero__filter__activate"===e.current.className?"aboutHero__filter aboutHero__filter__notactivate":"aboutHero__filter aboutHero__filter__activate"}return Object(c.jsxs)("div",{id:"aboutHero",className:"aboutHero",children:[Object(c.jsx)("div",{className:"aboutHero__filter aboutHero__filter__activate",ref:e}),n?l:s,Object(c.jsx)("div",{className:"aboutHero__btn",children:Object(c.jsx)(o.b,{to:"/g2mask2/",className:"aboutHero__link",onMouseOver:function(){return d()},onMouseLeave:function(){return d()},children:"SHOP NOW"})})]})},Z=function(){return Object(c.jsxs)("div",{className:"aboutUs",children:[Object(c.jsx)("h1",{className:"aboutUs__h1",children:"Who are we?"}),Object(c.jsx)("i",{className:"aboutUs__i far fa-question-circle"}),Object(c.jsx)("p",{className:"aboutUs__p",children:"We are Mask Professionals specialise in finding the best masks from around the world."})]})},ee=function(e){var t=e.job,a=t.icon,r=t.name;return Object(c.jsxs)("div",{className:"aboutDo__card",children:[Object(c.jsx)("i",{className:"aboutDo__card__i ".concat(a)}),Object(c.jsx)("p",{className:"aboutDo__card__p",children:r})]})},te=function(){return Object(c.jsxs)("div",{className:"aboutDo",children:[Object(c.jsx)("h1",{className:"aboutDo__h1",children:"What we do?"}),Object(c.jsx)("div",{className:"aboutDo__con",children:[{icon:"fas fa-search",name:"WE FIND"},{icon:"fas fa-tags",name:"WE SELL"},{icon:"fas fa-truck-loading",name:"WE DELIVER"}].map((function(e,t){return Object(c.jsx)(ee,{job:e},"aboutdo-".concat(t))}))}),Object(c.jsx)("p",{className:"aboutDo__p",children:"With us, you don't have to worry about price and quality anymore!"}),Object(c.jsx)("p",{className:"aboutDo__p",children:"We do the most complicated tasks for you, so you can:"}),Object(c.jsxs)("ul",{className:"aboutDo__ul",children:[Object(c.jsxs)("li",{className:"aboutDo__li",children:[Object(c.jsx)("i",{className:"aboutDo__li__i fas fa-check-circle"})," CHOOSE the best masks of the world"]}),Object(c.jsxs)("li",{className:"aboutDo__li",children:[Object(c.jsx)("i",{className:"aboutDo__li__i fas fa-check-circle"})," BUY at the lowest possible price"]}),Object(c.jsxs)("li",{className:"aboutDo__li",children:[Object(c.jsx)("i",{className:"aboutDo__li__i fas fa-check-circle"})," RECEIVE in the most convient way"]})]})]})},ae=function(e){var t=e.label,a=e.type,r="textarea"===a?Object(c.jsx)("textarea",{id:"aboutContact__form--".concat(t),className:"aboutContact__form__grp__textarea",autoComplete:"off",rows:"5",required:!0}):Object(c.jsx)("input",{id:"aboutContact__form--".concat(t),className:"aboutContact__form__grp__input",type:a,autoComplete:"off",required:!0});return Object(c.jsxs)("div",{className:"aboutContact__form__grp",children:[Object(c.jsx)("label",{htmlFor:"aboutContact__form--".concat(t),className:"aboutContact__form__grp__label",children:t}),r]})},ce=function(e){var t=e.handleSubmit;return Object(c.jsxs)("form",{className:"aboutContact__form",onSubmit:function(e){return t(e)},children:[Object(c.jsx)(ae,{label:"Name",type:"text"},"aboutcontactform-name"),Object(c.jsx)(ae,{label:"Email",type:"email"},"aboutcontactform-email"),Object(c.jsx)(ae,{label:"Message",type:"textarea"},"aboutcontactform-text"),Object(c.jsx)("button",{className:"aboutContact__form__btn standardBtn--2",children:"Submit"})]})},re=function(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),a=t[0],n=t[1];var i=a?Object(c.jsxs)("div",{className:"aboutContact__thanks",children:[Object(c.jsx)("i",{className:"aboutContact__thanks__i fas fa-heart"}),Object(c.jsx)("p",{className:"aboutContact__thanks__p",children:"THANK YOU!"}),Object(c.jsx)("p",{className:"aboutContact__thanks__p",children:"We will get back to you soon!"})]}):Object(c.jsx)(ce,{handleSubmit:function(e){e.preventDefault(),n((function(e){return!e}))}});return Object(c.jsxs)("div",{id:"aboutContact",className:"aboutContact",children:[Object(c.jsx)("h2",{className:"aboutContact__h2",children:"CONTACT US"}),Object(c.jsx)("p",{className:"aboutContact__p",children:"We'd like to hear from you!"}),i]})},ne=function(){return Object(c.jsxs)("div",{id:"about",className:"about",children:[Object(c.jsx)($,{}),Object(c.jsx)(Z,{}),Object(c.jsx)(te,{}),Object(c.jsx)(re,{})]})},ie=function(){return Object(c.jsx)("div",{id:"loadingLarge",className:"loadingLarge",children:Object(c.jsx)("i",{className:"loadingLarge__i fas fa-spinner"})})},se=function(e){var t=e.img;return Object(c.jsx)("div",{id:"itemimg",className:"itemImg",children:Object(c.jsx)("img",{className:"itemImg__img",src:t,alt:"product"})})},oe=function(e){var t=e.isSale,a=e.priceCurrent,r=e.priceOriginal,n=t&&"itemInfo__price__current__sale",i=t&&Object(c.jsx)("p",{className:"itemInfo__price__original",children:r});return Object(c.jsxs)("div",{className:"itemInfo__price",children:[Object(c.jsxs)("p",{className:"itemInfo__price__current ".concat(n),children:[Object(c.jsx)("span",{className:"itemInfo__price__current__sign",children:"$"})," ",a]}),i]})},le=function(e){var t=e.protections;return Object(c.jsx)("div",{id:"itemInfo__protections",className:"itemInfo__protections",children:t.map((function(e,t){return Object(c.jsx)("p",{className:"itemInfo__protections__protection",children:e},"protection-".concat(t))}))})},de=function(e){var t=e.inventory,a=e.handleChangeQuantity,r=e.defaultValue,n=t>10?10:t,i=[];if(0===n)i.push(Object(c.jsx)("option",{value:"out-of-stock",disabled:!0,children:"OUT OF STOCK"},"quantity-option-outofstock"));else for(var s=1;s<=n;s++)i.push(Object(c.jsx)("option",{value:s,children:s},"quantity-option-".concat(s)));return Object(c.jsxs)("select",{className:"itemInfo__variations__select",value:r,onChange:function(e){return a(e)},children:[Object(c.jsx)("option",{value:"default",disabled:!0,children:"Select Quantity"},"variation-default"),i]})},ue=function(e){var t=e.itemID,a=e.variations,n=I().addCartItem,i=F().displayMessage,s=Object(r.useState)("default"),o=Object(m.a)(s,2),l=o[0],d=o[1],u=Object(r.useState)("default"),j=Object(m.a)(u,2),b=j[0],_=j[1];function p(e){e.preventDefault(),"default"!==b?(n({itemID:t,variationID:l.id,quantity:b}),d("default"),_("default"),i({type:"Success",content:"Item added to cart."})):i({type:"Error",content:"Please select quantity."})}return Object(c.jsxs)("form",{id:"itemInfo__variations",className:"itemInfo__variations",onSubmit:function(e){return p(e)},children:[Object(c.jsxs)("select",{className:"itemInfo__variations__select",onChange:function(e){return function(e){var t=Number(e.target.value),c=a.filter((function(e){return e.id===t}))[0];d(c)}(e)},value:"default"===l?"default":l.id,children:[Object(c.jsx)("option",{value:"default",disabled:!0,children:"Select Size"},"variation-default"),a.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.size},"variation-".concat(t))}))]}),Object(c.jsx)(de,{inventory:l&&l.inventory,defaultValue:b,handleChangeQuantity:function(e){_(Number(e.target.value))}},"iteminfoquantity"),Object(c.jsx)("button",{className:"itemInfo__variations__addCart standardBtn--2",children:"Add to Cart"})]})},me=function(e){var t=e.item,a=t.id,r=t.name,n=t.brand,i=t.description,s=t.origin,o=t.mask_type,l=t.is_sale,d=t.price_current,u=t.price_original,m=t.protections,j=t.variations;return Object(c.jsxs)("div",{id:"iteminfo",className:"itemInfo",children:[Object(c.jsx)("h2",{className:"itemInfo__name",children:r}),Object(c.jsx)("p",{className:"itemInfo__brand",children:n.name}),Object(c.jsx)("p",{className:"itemInfo__description",children:i}),Object(c.jsx)(le,{protections:m},"iteminfoprotections"),Object(c.jsxs)("p",{className:"itemInfo__origin",children:["This product is made in ",Object(c.jsx)("span",{className:"itemInfo__origin__span",children:s.country}),"."]}),Object(c.jsxs)("p",{className:"itemInfo__type",children:["This is a ",Object(c.jsx)("span",{className:"itemInfo__type__span",children:o.category.toLowerCase()})," mask."]}),Object(c.jsx)(oe,{isSale:l,priceCurrent:d,priceOriginal:u},"iteminfoprice"),Object(c.jsx)(ue,{itemID:a,variations:j},"iteminfovariations")]})},je=a(15),be=a.n(je),_e=function(e){var t=e.review,a=(t.id,t.review),r=t.timestamp,n=t.user;return Object(c.jsxs)("div",{id:"review-".concat("1"),className:"itemReviews__card",children:[Object(c.jsx)("div",{className:"itemReviews__card__info",children:Object(c.jsxs)("p",{className:"itemReviews__card__info__p",children:[n.username,Object(c.jsx)("span",{className:"itemReviews__card__info__span",children:"\u2022"}),be()(r).fromNow()]})}),Object(c.jsx)("div",{className:"itemReviews__card__content",children:Object(c.jsx)("p",{className:"itemReviews__card__content__p",children:a})})]})},pe=function(e){var t=e.reviews,a=Object(r.useCallback)((function(e){var a=J({input:t.sort((function(e,t){return t.id-e.id})),itemsPerPage:5}),c={reviews:t,paginatedReviews:a,pages:a.length,displayReviews:a[0],currentPage:0,next:a.length-1>0};return e&&(c.currentPage=e.currentPage+1,c.next=e.currentPage+1<a.length),c}),[t]),n=Object(r.useState)((function(){return a()})),i=Object(m.a)(n,2),s=i[0],o=i[1];return Object(r.useEffect)((function(){o((function(){return a()}))}),[t,a]),Object(c.jsxs)("div",{id:"itemReviews__con",className:"itemReviews__con",children:[s.displayReviews.map((function(e,t){return Object(c.jsx)(_e,{review:e},"itemreviewscard-".concat(t))})),s.next&&Object(c.jsx)("button",{className:"itemReviews__con__showMore standardBtn--2",onClick:function(){return function(){if(s.currentPage!==s.pages-1){var e=s.currentPage+1,t=Object(x.a)(Object(x.a)({},s),{},{displayReviews:[].concat(Object(f.a)(s.displayReviews),Object(f.a)(s.paginatedReviews[e])),currentPage:e,next:e<s.pages-1});o(t)}}()},children:"Show more"})]})},he=function(e){var t=e.submitReview,a=Object(r.useState)(!1),n=Object(m.a)(a,2),i=n[0],s=n[1];return i?Object(c.jsx)(B,{}):Object(c.jsxs)("form",{id:"itemReviews__form",className:"itemReviews__form",onSubmit:function(e){return function(e){e.preventDefault(),""!==e.target.content.value.trim()&&(s(!0),t(e.target.content.value).then((function(t){t&&(s(!1),e.target.content.value="")})))}(e)},children:[Object(c.jsx)("label",{className:"itemReviews__form__label",children:"We appreciate your comment:"}),Object(c.jsx)("textarea",{id:"itemReviews__form__textarea",className:"itemReviews__form__textarea",autoComplete:"off",name:"content",rows:"5",required:!0}),Object(c.jsx)("button",{type:"submit",className:"standardBtn itemReviews__form__btn",children:"Submit"})]})},Oe=function(e){var t=e.reviews,a=e.submitReview,r=p().user,n=t.length>0?Object(c.jsx)(pe,{reviews:t},"itemreviewscon"):Object(c.jsx)("p",{className:"itemReviews__empty",children:"There's no review, yet."});return Object(c.jsxs)("div",{id:"itemReviews",className:"itemReviews",children:[Object(c.jsx)("h2",{className:"itemReviews__h2",children:"REVIEWS"}),n,r&&Object(c.jsx)(he,{submitReview:a})]})},fe=function(e){var t=Object(R.g)(),a=e.match.params.itemId,n=g(),i=n.items,s=n.updateItems,o=p().user,l=Object(r.useState)("loading"),b=Object(m.a)(l,2),_=b[0],h=b[1],O=Object(r.useState)(null),f=Object(m.a)(O,2),v=f[0],N=f[1],y=Object(r.useCallback)((function(e){var a=i.items.filter((function(t){return t.id===Number(e)}))[0];return a?(a.reviews&&N(a.reviews),a):void t.push("/404")}),[i,t]);function I(){return(I=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(j,"eshop/customer_review/create/").concat(_.id),{method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(o.access)},body:JSON.stringify({review:t})}).then((function(e){return e.json()})).then((function(e){N(e);var t=Object(x.a)(Object(x.a)({},_),{},{reviews:e});return s({itemID:_.id,newItem:t}),!0})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){window.scrollTo(0,0),i&&h(y(a))}),[i,y,a]);var k="loading"===_?Object(c.jsx)(ie,{}):_?Object(c.jsxs)("div",{id:"itemContent",className:"itemContent",children:[Object(c.jsx)(se,{img:_.img},"itemimg"),Object(c.jsx)(me,{item:_},"iteminfo"),Object(c.jsx)(Oe,{reviews:v,itemID:_.id,setReviews:N,submitReview:function(e){return I.apply(this,arguments)}},"itemreviews")]}):Object(c.jsxs)("div",{id:"itemError",className:"itemError",children:[Object(c.jsx)("h1",{className:"itemError__h1",children:"Opps"}),Object(c.jsx)("i",{className:"itemError__i fas fa-exclamation-triangle"}),Object(c.jsx)("p",{className:"itemError__p",children:"Item not found."})]});return Object(c.jsx)("div",{id:"item",className:"item",children:k})},xe=a(27),ve=a.n(xe);function ge(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(u.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uuid,c=t.user,e.abrupt("return",fetch("".concat(j,"eshop/trackorder/").concat(a),{headers:{Authorization:c&&"Bearer ".concat(c.access)}}).then((function(e){return e.json()})).then((function(e){return e})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=function(e){var t=e.handleSubmit;return Object(c.jsxs)("form",{id:"trackorderForm",className:"trackorderForm",onSubmit:function(e){return t(e)},children:[Object(c.jsx)("label",{className:"trackorderForm__label",htmlFor:"trackorderForm__input",children:"Please entre your order number:"}),Object(c.jsx)("textarea",{id:"trackorderForm__input",className:"trackorderForm__textarea",name:"trackorderInput",type:"text",rows:"2",maxLength:36,required:!0}),Object(c.jsx)("button",{className:"trackorderForm__btn standardBtn--2",type:"submit",children:"Track order"})]})},Ie=function(){var e=Object(R.g)(),t=p().user,a=Object(r.useState)(!1),n=Object(m.a)(a,2),i=n[0],s=n[1],o=Object(r.useState)(""),l=Object(m.a)(o,2),d=l[0],u=l[1],j=i?Object(c.jsx)(B,{}):Object(c.jsx)(ye,{handleSubmit:function(a){a.preventDefault(),s(!0);var c=a.target.trackorderInput.value,r=ve()(c,4);console.log(c),r?ge({uuid:c,user:t}).then((function(t){t.detail?(u(t.detail),s(!1)):(u(""),s(!1),e.push("/order/".concat(c)))})):(s(!1),u("Invalid order number."))}},"trackorderform"),b=d&&Object(c.jsxs)("p",{className:"trackorder__error",children:["Error: ",d]});return Object(c.jsxs)("div",{id:"trackorder",className:"trackorder",children:[Object(c.jsx)("h1",{className:"trackorder__h1",children:"TRACK ORDER"}),j,b]})},ke=function(e){var t=e.address,a=e.title,r=t&&[t.firstname,t.lastname,t.flat,t.apartment,t.street,t.area,t.district],n=r?Object(c.jsx)("div",{className:"orderAddressCard__content",children:r.map((function(e,t){return Object(c.jsx)("p",{className:"orderAddressCard__content__p",children:e},"orderaddresscard-content-".concat(a.toLowerCase(),"-").concat(t))}))}):Object(c.jsx)("div",{className:"orderAddressCard__content",children:Object(c.jsx)("p",{className:"orderAddressCard__content__p",children:"Nil."})});return Object(c.jsxs)("div",{className:"orderAddressCard",children:[Object(c.jsx)("p",{className:"orderAddressCard__title",children:a}),n]})},Ce=function(e){var t=e.order,a=t.shipping,r=t.billing;return Object(c.jsxs)("div",{id:"orderAddresses",className:"orderAddresses",children:[Object(c.jsx)(ke,{title:"Shipping Address",address:a},"orderaddressscard-shipping"),Object(c.jsx)(ke,{title:"Billing Address",address:r},"orderaddressscard-billing")]})},Se=a(42),we=a.n(Se),Ee=function(e){var t=e.order.uuid;return Object(r.useEffect)((function(){we()("#orderBarcode__barcode",t,{lineColor:"#ff33a0"})})),Object(c.jsx)("div",{id:"orderBarcode",className:"orderBarcode",children:Object(c.jsx)("img",{id:"orderBarcode__barcode",className:"orderBarcode__barcode",alt:"orderBarcode"})})},Te=function(e){var t=e.title,a=e.data;return Object(c.jsxs)("div",{className:"orderBasic__grp",children:[Object(c.jsx)("p",{className:"orderBasic__grp__title",children:t}),Object(c.jsx)("p",{className:"orderBasic__grp__data",children:a})]})},Fe=function(e){var t=e.timestampCreated,a=e.uuid;return Object(c.jsxs)("div",{className:"orderBasic",children:[Object(c.jsx)(Te,{title:"Order Date",data:be()(t).format("Do MMMM YYYY, HH:mm:ss")},"orderbasicgrp-orderdate"),Object(c.jsx)(Te,{title:"Order Number",data:a},"orderbasicgrp-orderuuid")]})},Ae=function(e){var t=e.name,a=e.brand,r=e.size;return Object(c.jsxs)("div",{className:"orderItemCard__details",children:[Object(c.jsx)("p",{className:"orderItemCard__details__name",children:t}),Object(c.jsx)("p",{className:"orderItemCard__details__brand",children:a}),Object(c.jsxs)("p",{className:"orderItemCard__details__size",children:["Size: ",Object(c.jsx)("span",{className:"orderItemCard__details__size__span",children:r})]})]})},Re=function(e){var t=e.title,a=e.data,r=e.gridArea;return Object(c.jsxs)("div",{className:"orderItemCard__pricebox orderItemCard__".concat(r),children:[Object(c.jsx)("p",{className:"orderItemCard__pricebox__title",children:t}),Object(c.jsx)("p",{className:"orderItemCard__pricebox__unit",children:a})]})},De=function(e){var t=e.item,a=t.item,r=a.mask,n=r.name,i=r.brand,s=r.img,o=a.size,l=t.quantity,d=t.price_original,u=t.price_subtotal;return Object(c.jsxs)("div",{className:"orderItemCard",children:[Object(c.jsx)("div",{className:"orderItemCard__img",children:Object(c.jsx)("img",{className:"orderItemCard__img__img",src:s,alt:"item_photo"})}),Object(c.jsx)(Ae,{name:n,brand:i.name,size:o},"orderitemcard-details"),Object(c.jsx)(Re,{title:"QUANTITY",gridArea:"quantity",data:l},"orderitemcard-quantity"),Object(c.jsx)(Re,{title:"UNIT",gridArea:"unit",data:d},"orderitemcard-unit"),Object(c.jsx)(Re,{title:"SUBTOTAL",gridArea:"subtotal",data:u},"orderitemcard-subtotal")]})},Pe=function(e){var t=e.order.items;return Object(c.jsx)("div",{id:"orderItems",className:"orderItems",children:t.map((function(e,t){return Object(c.jsx)(De,{item:e},"orderitemcard-".concat(t))}))})},Me=function(e){var t=e.name,a=e.active,r=e.next,n=e.icon;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"orderStatusCard ".concat(a?"orderStatusCard--active":"orderStatusCard--inactive"),children:[Object(c.jsx)("i",{className:"orderStatusCard__i ".concat(n)}),Object(c.jsx)("p",{className:"orderStatusCard__p",children:t})]}),r&&Object(c.jsx)("i",{className:"orderStatus__i fas fa-chevron-down ".concat(a?"orderStatus__i--active":"orderStatus__i--inactive")})]})},Le=function(e){var t=e.order,a=t.shipping_method,r=t.status;console.log(r);var n="Instore Pick-up"===a?Object(c.jsx)(Me,{name:"Ready for Pick Up",icon:"fas fa-store-alt",active:"Ready for Pick Up"===r||"Collected"===r,next:!0},"orderstatuscard-middle"):Object(c.jsx)(Me,{name:"Delivery in Progress",icon:"fas fa-truck",active:"Shipped"===r||"Delivered"===r,next:!0},"orderstatuscard-middle"),i="Instore Pick-up"===a?Object(c.jsx)(Me,{name:"Item Collected",icon:"fas fa-hand-holding",active:"Collected"===r},"orderstatuscard-collect"):Object(c.jsx)(Me,{name:"Item Delivered",icon:"fas fa-truck-loading",active:"Delivered"===r},"orderstatuscard-collect");return Object(c.jsxs)("div",{id:"orderStatus",className:"orderStatus",children:[Object(c.jsx)("p",{className:"orderStatus__title",children:"STATUS"}),Object(c.jsxs)("div",{className:"orderStatus__box",children:[Object(c.jsx)(Me,{name:"Received",icon:"fas fa-check",active:!0,next:!0},"orderstatuscard-received"),n,i]})]})},qe=function(e){var t=e.title,a=e.data,r=e.otherData,n=e.gridArea,i=r&&Object(c.jsxs)("span",{className:"orderTotal__grp__title__span",children:["(",r,")"]});return Object(c.jsxs)("div",{className:"orderTotal__grp orderTotal__grp--".concat(n),children:[Object(c.jsxs)("p",{className:"orderTotal__grp__title",children:[t,Object(c.jsx)("br",{}),Object(c.jsx)("span",{className:"orderTotal__grp__title__span",children:i})]}),Object(c.jsx)("p",{className:"orderTotal__grp__data",children:a})]})},He=function(e){var t=e.order,a=t.shipping_method,r=t.shipping_price,n=t.subtotal;return Object(c.jsx)("div",{id:"orderTotal",className:"orderTotal",children:Object(c.jsxs)("div",{className:"orderTotal__box",children:[Object(c.jsx)(qe,{title:"SUBTOTAL",gridArea:"subtotal",data:n,otherData:""},"ordertotalgrp-subtotal"),Object(c.jsx)(qe,{title:"SHIPPING",gridArea:"shipping",data:r,otherData:a},"ordertotalgrp-shipping"),Object(c.jsx)(qe,{title:"TOTAL",gridArea:"total",data:(Number(r)+Number(n)).toFixed(1)},"ordertotalgrp-total")]})})},Be=function(e){var t=Object(R.g)(),a=p().user,n=F().displayMessage,i=Object(r.useState)(""),s=Object(m.a)(i,2),o=s[0],l=s[1],d=Object(r.useState)((function(){return function(){var c=e.match.params.orderID;if(!ve()(c,4))return l("Invalid order number."),"Invalid order number";return ge({uuid:c,user:a}).then((function(e){if(e.detail)return b(e),l(e.detail),n({type:"Error",content:"You must login to view this order."}),void t.push("/login");b(e)})),!1}()})),u=Object(m.a)(d,2),j=u[0],b=u[1];Object(r.useEffect)((function(){return function(){l(""),b(!1)}}),[]);var _=Object(c.jsxs)("div",{id:"order",className:"order",children:[Object(c.jsx)("h1",{className:"order__h1",children:"ORDER"}),Object(c.jsx)(Fe,{timestampCreated:j&&j.timestamp_created,uuid:j&&j.uuid},"orderbasic"),Object(c.jsx)(Pe,{order:j},"orderitems"),Object(c.jsx)(He,{order:j},"ordertotal"),Object(c.jsx)(Ce,{order:j},"orderaddresses"),Object(c.jsx)(Le,{order:j},"orderstatus"),Object(c.jsx)(Ee,{order:j},"orderbarcode")]});return j?o?Object(c.jsxs)("div",{id:"orderError",className:"orderError",children:[Object(c.jsx)("h1",{className:"orderError__h1",children:"Opps"}),Object(c.jsx)("i",{className:"orderError__i fas fa-exclamation-triangle"}),Object(c.jsx)("p",{className:"orderError__p",children:o})]}):_:Object(c.jsx)(ie,{})},Ge=function(e){var t=e.img,a=e.alt;return Object(c.jsx)("div",{className:"cartItemCard__img",children:Object(c.jsx)("img",{className:"cartItemCard__img__img",src:t,alt:a})})},Ue=function(e){var t=e.name,a=e.brand,r=e.size;return Object(c.jsxs)("div",{className:"cartItemCard__info",children:[Object(c.jsx)("p",{className:"cartItemCard__info__name",children:t}),Object(c.jsx)("p",{className:"cartItemCard__info__brand",children:a}),Object(c.jsx)("p",{className:"cartItemCard__info__size",children:r})]})},Ye=function(e){for(var t=e.itemID,a=e.currentQuantity,r=e.setCurrentQuantity,n=I(),i=n.changeCartItemQuantity,s=n.getCartSubtotal,o=[],l=1;l<=15;l++)o.push(Object(c.jsx)("option",{value:l,children:l},"cartitemcardquantityoption-".concat(l)));return Object(c.jsxs)("div",{className:"cartItemCard__quantity",children:[Object(c.jsx)("p",{className:"cartItemCard__quantity__title",children:"QUANTITY"}),Object(c.jsx)("select",{className:"cartItemCard__quantity__select",defaultValue:a,onChange:function(e){return function(e){var a=e.target.value;i({variationID:t,quantity:Number(a)}),r(a),s()}(e)},children:o})]})},Ke=function(e){var t=e.subtotal;return Object(c.jsxs)("div",{className:"cartItemCard__subtotal",children:[Object(c.jsx)("p",{className:"cartItemCard__subtotal__title",children:"SUBTOTAL"}),Object(c.jsx)("p",{className:"cartItemCard__subtotal__price",children:t})]})},We=function(e){var t=e.item,a=t.id,n=t.size,i=t.mask,s=i.name,o=i.brand,l=i.img,d=(i.is_sale,i.price_current),u=(i.price_original,t.cart.quantity),j=I().removeCartItem,b=F().displayMessage,_=Object(r.useState)(u),p=Object(m.a)(_,2),h=p[0],O=p[1];return Object(c.jsxs)("div",{className:"cartItemCard",children:[Object(c.jsx)(Ge,{img:l,alt:s},"cartitemcartimg-".concat(a,"-").concat(n.trim())),Object(c.jsx)(Ue,{name:s,brand:o.name,size:n},"cartitemcartinfo-".concat(a,"-").concat(n.trim())),Object(c.jsx)(Ye,{currentQuantity:h,itemID:a,size:n,setCurrentQuantity:O},"cartitemcardquantity-".concat(a,"-").concat(n.trim())),Object(c.jsx)(Ke,{subtotal:Number(d*u).toFixed(1)},"cartitemcardsubtotal-".concat(a,"-").concat(n.trim())),Object(c.jsx)("button",{className:"cartItemCard__remove",onClick:function(){return j(a),void b({type:"Success",content:"Item removed from cart."})},children:Object(c.jsx)("i",{className:"cartItemCard__remove__i fas fa-times"})})]})},ze=function(){var e=I().currentCart,t=e&&e.map((function(e,t){return Object(c.jsx)(We,{item:e},"cartitemcard-".concat(t))})),a=e?t:Object(c.jsx)(B,{});return Object(c.jsx)("div",{id:"cartItems",className:"cartItems",children:a})},Je=function(){var e=I().subtotal;return Object(c.jsxs)("div",{id:"cartTotal",className:"cartTotal",children:[Object(c.jsxs)("div",{className:"cartTotal__subtotal",children:[Object(c.jsx)("p",{className:"cartTotal__subtotal__title",children:"SUBTOTAL"}),Object(c.jsxs)("p",{className:"cartTotal__subtotal__price",children:["$",e]})]}),Object(c.jsx)(o.b,{to:"/checkout",className:"cartTotal__subtotal__btn standardBtn--2",children:"CHECKOUT"})]})},Ve=function(){var e=I().currentCart,t=Object(c.jsxs)("div",{id:"cartContent",className:"cartContent",children:[Object(c.jsx)(ze,{}),Object(c.jsx)(Je,{})]}),a=Object(c.jsxs)("div",{className:"cartEmpty",children:[Object(c.jsx)("h1",{className:"cartEmpty__h1",children:"CART EMPTY"}),Object(c.jsx)("i",{className:"cartEmpty__i fas fa-box-open"}),Object(c.jsx)(o.b,{className:"cartEmpty__btn standardBtn--2",to:"/g2mask2/",children:"SHOP NOW"})]}),r=e?e.length>0?t:a:Object(c.jsx)(ie,{});return Object(c.jsxs)("div",{id:"cart",className:"cart",children:[Object(c.jsx)("h1",{className:"cart__h1",children:"CART"}),r]})},Qe=function(e){var t=e.title,a=e.data;return Object(c.jsxs)("div",{className:"accountBasic__grp",children:[Object(c.jsx)("p",{className:"accountBasic__grp__title",children:t}),Object(c.jsx)("p",{className:"accountBasic__grp__data",children:a})]})},Xe=function(e){var t=e.user;console.log(t);var a=t?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Qe,{title:"Username",data:t&&t.username},"accountbasicgrp--username"),Object(c.jsx)(Qe,{title:"Email",data:t&&t.email},"accountbasicgrp--email"),Object(c.jsx)(Qe,{title:"Date Joined",data:t&&be()(t.date_joined).format("Do MMMM YYYY")},"accountbasicgrp--datejoined")]}):Object(c.jsx)(B,{});return Object(c.jsx)("div",{className:"accountBasic",children:a})},$e=function(e){var t=e.order;return Object(c.jsx)(o.b,{to:"/order/".concat(t.uuid),children:Object(c.jsxs)("div",{className:"accountOrderCard",children:[Object(c.jsxs)("div",{className:"accountOrderCard__data",children:[Object(c.jsx)("p",{className:"accountOrderCard__date",children:be()(t.timestamp_created).format("Do MMMM YYYY")}),Object(c.jsx)("p",{className:"accountOrderCard__ordernum",children:"ORDER NO."}),Object(c.jsx)("p",{className:"accountOrderCard__orderid",children:t.uuid})]}),Object(c.jsx)("div",{className:"accountOrderCard__info",children:Object(c.jsx)("p",{className:"accountOrderCard__status",children:t.status})})]})})},Ze=function(e){var t=e.user,a=t?t.orders.length>0?Object(c.jsx)("div",{className:"accountOrders__con",children:t.orders.map((function(e,t){return Object(c.jsx)($e,{order:e},"accountordercard-".concat(t))}))}):Object(c.jsx)("div",{className:"accountOrders__empty",children:"SHOP NOW!"}):Object(c.jsx)(B,{});return Object(c.jsxs)("div",{className:"accountOrders",children:[Object(c.jsx)("h2",{className:"accountOrders__h2",children:"ORDERS"}),a]})},et=function(){var e=p().user,t=Object(r.useState)(null),a=Object(m.a)(t,2),n=a[0],i=a[1];return Object(r.useEffect)((function(){fetch("".concat(j,"eshop/users/details/").concat(e.id,"/"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.access)}}).then((function(e){return e.json()})).then((function(e){i(e)}))}),[e]),Object(c.jsxs)("div",{id:"account",className:"account",children:[Object(c.jsx)("h1",{className:"account__h1",children:"ACCOUNT"}),Object(c.jsxs)("div",{className:"account__con",children:[Object(c.jsx)(Xe,{user:n},"accountbasic"),Object(c.jsx)(Ze,{user:n},"accountorders")]})]})},tt=function(e){var t=e.label,a=e.type,r=e.error,n=(e.name,r&&"reglog__form__grp__input__error");return Object(c.jsxs)("div",{className:"reglog__form__grp",children:[Object(c.jsx)("label",{htmlFor:"reglog-form-".concat(t.replace(" ","").toLowerCase()),className:"reglog__form__grp__label",children:t}),Object(c.jsx)("input",{id:"reglog-form-".concat(t.replace(" ","").toLowerCase()),className:"reglog__form__grp__input ".concat(n),type:a,name:"".concat(t.replace(" ","").toLowerCase()),autoComplete:"off",required:!0}),Object(c.jsx)("p",{className:"reglog__form__grp__error",children:r})]})},at=function(e){var t=e.page,a=e.forms,r=e.btnLabel,n=e.name,i=e.handleSubmit,s=e.submitError,l="Register"===r?Object(c.jsxs)("p",{className:"reglog__link",children:["Alredy have an account?",Object(c.jsx)(o.b,{to:"/login",className:"reglog__link__link",children:"LOGIN NOW!"})]}):Object(c.jsxs)("p",{className:"reglog__link",children:["Don't have an account?",Object(c.jsx)(o.b,{to:"/register",className:"reglog__link__link",children:"REGISTER Now!"})]});return Object(c.jsxs)("form",{className:"reglog__form",onSubmit:function(e){return i(e)},children:[Object(c.jsx)("h2",{className:"reglog__form__h2",children:t}),a.map((function(e){var t=e.key,a=e.label,r=e.type,i=e.error;return Object(c.jsx)(tt,{label:a,type:r,error:i,name:n},t)})),s&&Object(c.jsx)("p",{className:"reglog__form__submit__error",children:s}),Object(c.jsx)("button",{className:"reglog__form__btn standardBtn",children:r}),l]})},ct=function(){return Object(c.jsxs)("div",{id:"registrationSuccess",className:"registrationSuccess",children:[Object(c.jsx)("h1",{className:"registrationSuccess__h1",children:"Registration Successful"}),Object(c.jsx)("i",{className:"registrationSuccess__i far fa-check-circle"}),Object(c.jsx)("p",{className:"registrationSuccess__p",children:"Thank you for joining us!"}),Object(c.jsx)("p",{className:"registrationSuccess__p",children:"You will be redirected to LOGIN shortly..."})]})},rt=function(){var e=Object(R.g)(),t=h().register,a=F().displayMessage,n=Object(r.useState)(!1),i=Object(m.a)(n,2),s=i[0],o=i[1],l=Object(r.useState)(""),d=Object(m.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)({username:"",email:"",password:"",confirmpassword:""}),_=Object(m.a)(b,2),p=_[0],O=_[1],f=Object(r.useState)(!1),v=Object(m.a)(f,2),g=v[0],N=v[1],y=[{key:"reglogformgrp-username",label:"Username",type:"text",error:p.username},{key:"reglogformgrp-email",label:"Email",type:"email",error:p.email},{key:"reglogformgrp-password",label:"Password",type:"password",error:p.password},{key:"reglogformgrp-confirmation",label:"Confirm Password",type:"password",error:p.confirmpassword}];return Object(c.jsxs)("div",{id:"register",className:"reglog register",children:[Object(c.jsxs)("div",{className:"reglog__img",children:[Object(c.jsx)("h1",{className:"reglog__img__h1",children:"ALWAYS WEAR MASK"}),Object(c.jsx)("div",{className:"reglog__img__filter"})]}),s?Object(c.jsx)(B,{}):g?Object(c.jsx)(ct,{}):Object(c.jsx)(at,{page:"Create an account",forms:y,btnLabel:"Register",handleSubmit:function(c){c.preventDefault();var r={username:document.querySelector("#reglog-form-username").value,email:document.querySelector("#reglog-form-email").value,password:document.querySelector("#reglog-form-password").value,confirmpassword:document.querySelector("#reglog-form-confirmpassword").value};o(!0),function(e){var t=!0;return O({username:"",email:"",password:"",confirmpassword:""}),e.forEach((function(e){(document.querySelector("#reglog-form-".concat(e)).value.trim().match(" ")&&(t=!1,O((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(C.a)({},e,"Invalid ".concat(e)))}))),"password"===e||"confirmpassword"===e)&&(document.querySelector("#reglog-form-password").value!==document.querySelector("#reglog-form-confirmpassword").value&&(t=!1,O((function(e){return Object(x.a)(Object(x.a)({},e),{},{password:"Password and Confirmation must match.",confirmpassword:"Password and Confirmation must match."})}))))})),t}(["username","email","password","confirmpassword"])?t(r).then((function(t){t?(N(!0),o(!1),setTimeout((function(){return e.push("/login")}),3e3)):(o(!1),a({type:"Error",content:"Username and/or Email already exists."}),j("Username and/or Email already exists."))})):o(!1)},submitError:u})]})},nt=function(){var e=h().login,t=F().displayMessage,a=Object(r.useState)(!1),n=Object(m.a)(a,2),i=n[0],s=n[1],o=Object(r.useState)(""),l=Object(m.a)(o,2),d=l[0],u=l[1],j=Object(r.useState)({username:"",password:""}),b=Object(m.a)(j,2),_=b[0],p=b[1],O=[{key:"reglogformgrp-username",label:"Username",type:"text",error:_.username},{key:"reglogformgrp-password",label:"Password",type:"password",error:_.password}];return Object(c.jsxs)("div",{id:"login",className:"reglog login",children:[Object(c.jsxs)("div",{className:"reglog__img",children:[Object(c.jsx)("h1",{className:"reglog__img__h1",children:"ALWAYS WEAR MASK"}),Object(c.jsx)("div",{className:"reglog__img__filter"})]}),i?Object(c.jsx)(B,{}):Object(c.jsx)(at,{page:"Welcome back",forms:O,btnLabel:"Login",handleSubmit:function(a){a.preventDefault();var c={username:document.querySelector("#reglog-form-username").value,password:document.querySelector("#reglog-form-password").value};s(!0),function(e){var t=!0;return p({username:"",password:""}),e.forEach((function(e){document.querySelector("#reglog-form-".concat(e)).value.trim().match(" ")&&(t=!1,p((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(C.a)({},e,"Invalid ".concat(e)))})))})),t}(["username","password"])?e(c).then((function(e){e||(s(!1),t({type:"Error",content:"Invalid username and/or password."}),u("Invalid username/password"))})):s(!1)},name:"login",submitError:d})]})},it=function(){return Object(c.jsx)("div",{id:"error",className:"error",children:"Error"})},st=function(e){var t,a=e.section,r=e.label,n=e.name,i=e.title,s=e.type,o=e.choices,l=e.handleSelectShipping,d=e.errors,u=Object.keys(d).length>0&&d[a][n],m=u&&"checkoutForm__grp__text__input__error",j=u&&"checkoutForm__grp__radio__grp__con__error";switch(s){case"text":t=Object(c.jsxs)("div",{className:"checkoutForm__grp__text",children:[Object(c.jsx)("label",{htmlFor:"checkoutForm__grp__text__".concat(a,"__").concat(n),className:"checkoutForm__grp__text__label",children:r}),Object(c.jsx)("input",{id:"checkoutForm__grp__text__".concat(a,"__").concat(n),type:"text",name:"".concat(a,"-").concat(n),className:"checkoutForm__grp__text__input ".concat(m),autoComplete:"off",required:!0})]},"checkoutForm__grp__text");break;case"number":t=Object(c.jsxs)("div",{className:"checkoutForm__grp__text",children:[Object(c.jsx)("label",{htmlFor:"checkoutForm__grp__text__".concat(a,"__").concat(n),className:"checkoutForm__grp__text__label",children:r}),Object(c.jsx)("input",{id:"checkoutForm__grp__text__".concat(a,"__").concat(n),type:"tel",name:"".concat(a,"-").concat(n),className:"checkoutForm__grp__text__input ".concat(m),maxLength:"16",autoComplete:"off",required:!0})]},"checkoutForm__grp__text");break;case"radio":t=Object(c.jsxs)("div",{className:"checkoutForm__grp__radio__grp",children:[Object(c.jsx)("p",{className:"checkoutForm__grp__radio__grp__title",children:i}),Object(c.jsx)("div",{className:"checkoutForm__grp__radio__grp__con ".concat(j),children:o.map((function(e,t){return Object(c.jsxs)("div",{className:"checkoutForm__grp__radio",children:[Object(c.jsx)("input",{id:"checkoutForm__grp__radio__".concat(a,"__").concat(e.value),type:"radio",name:"".concat(a,"-").concat(n),className:"checkoutForm__grp__radio__input",value:e.value,onChange:function(e){return function(e){"shipping_method"===n&&l(e)}(e)}}),Object(c.jsx)("label",{htmlFor:"checkoutForm__grp__radio__".concat(a,"__").concat(e.value),className:"checkoutForm__grp__radio__label",children:e.display})]},"checkoutForm__grp__radio--".concat(r,"--").concat(t))}))})]})}return Object(c.jsxs)("div",{className:"checkoutForm__grp",children:[t,u&&Object(c.jsx)("p",{className:"checkoutForm__grp__error",children:d[a][n]})]})},ot=function(e){var t=e.title,a=e.fields,r=e.section,n=e.errors,i=e.handleSelectShipping;return Object(c.jsxs)("div",{className:"checkoutForm__address",children:[Object(c.jsx)("h1",{className:"checkoutForm__address__h1",children:t}),a.map((function(e,t){return Object(c.jsx)(st,{section:r,label:e.label,name:e.name,type:e.type,choices:e.choices,title:e.title,errors:n,handleSelectShipping:i},"checkoutformgrp-".concat(t))}))]})},lt={shipping_method:[{label:"Shipping Method",name:"shipping_method",type:"radio",title:"Please choose a shipping method:",choices:[{value:"standard",display:"Standard (+$20)"},{value:"priority",display:"Priority (+$100)"}]}],shipping:[{label:"First Name",name:"firstname",type:"text"},{label:"Last Name",name:"lastname",type:"text"},{label:"Flat / Room",name:"flat",type:"text"},{label:"Building / Apartment",name:"apartment",type:"text"},{label:"Street",name:"street",type:"text"},{label:"Area",name:"area",type:"text"},{label:"District",name:"district",type:"radio",title:"District",choices:[{value:"Hong Kong Island",display:"Hong Kong Island"},{value:"Kowloon",display:"Kowloon"},{value:"New Territories",display:"New Territories"}]}],billing:[{label:"First Name",name:"firstname",type:"text"},{label:"Last Name",name:"lastname",type:"text"},{label:"Flat / Room",name:"flat",type:"text"},{label:"Building / Apartment",name:"apartment",type:"text"},{label:"Street",name:"street",type:"text"},{label:"Area",name:"area",type:"text"},{label:"District",name:"district",type:"radio",title:"District",choices:[{value:"Hong Kong Island",display:"Hong Kong Island"},{value:"Kowloon",display:"Kowloon"},{value:"New Territories",display:"New Territories"}]}],payment:[{label:"Card Type",name:"method",type:"radio",title:"Card Type",choices:[{value:"visa",display:"VISA"},{value:"master",display:"Mastercard"}]},{label:"Card Number",name:"card_number",type:"number"},{label:"Card Holder's First Name",name:"card_holder_firstname",type:"text"},{label:"Card Holder's Last Name",name:"card_holder_lastname",type:"text"}]},dt=function(e){var t=e.shippingMethod,a=e.handleSelectShipping,r=e.errors,n=t&&Object(c.jsx)(ot,{title:"Shipping Address",fields:lt.shipping,section:"shipping",errors:r},"checkoutformshippingaddresss");return Object(c.jsxs)("div",{id:"checkoutDetails",className:"checkoutDetails",children:[Object(c.jsx)(ot,{title:"Shipping Method",fields:lt.shipping_method,section:"shipping_method",handleSelectShipping:a,errors:r},"checkoutform1"),n,Object(c.jsx)(ot,{title:"Billing Address",fields:lt.billing,section:"billing",errors:r},"checkoutformbillingaddresss"),Object(c.jsx)(ot,{title:"Payment",fields:lt.payment,section:"payment",errors:r},"checkoutformpayment")]})},ut=function(e){var t=e.item,a=t.mask,r=a.name,n=a.brand,i=a.price_current,s=t.size,o=t.cart.quantity,l=(Number(i)*o).toFixed(1);return Object(c.jsxs)("div",{className:"checkoutInfo__itemCard",children:[Object(c.jsxs)("div",{className:"checkoutInfo__itemCard__details",children:[Object(c.jsx)("p",{className:"checkoutInfo__itemCard__name",children:r}),Object(c.jsx)("p",{className:"checkoutInfo__itemCard__brand",children:n.name}),Object(c.jsx)("p",{className:"checkoutInfo__itemCard__size",children:s}),Object(c.jsxs)("p",{className:"checkoutInfo__itemCard__quantity",children:["QUANTITY: ",Object(c.jsx)("span",{className:"checkoutInfo__itemCard__quantity__span",children:o})]})]}),Object(c.jsx)("div",{className:"checkoutInfo__itemCard__price",children:Object(c.jsxs)("p",{className:"checkoutInfo__itemCard__price__price",children:["$ ",l]})})]})},mt=function(e){var t=e.title,a=e.price;return Object(c.jsxs)("div",{className:"checkoutInfo__display__priceCard",children:[Object(c.jsx)("p",{className:"checkoutInfo__display__priceCard__title",children:t}),Object(c.jsxs)("p",{className:"checkoutInfo__display__priceCard__price",children:["$ ",a]})]})},jt=function(e){var t=e.shipping,a=e.total,r=I(),n=r.currentCart,i=r.subtotal,s=n&&i&&Object(c.jsxs)("div",{className:"checkoutInfo__display",children:[Object(c.jsx)("div",{className:"checkoutInfo__display__items",children:n.map((function(e,t){return Object(c.jsx)(ut,{item:e},"checkoutinfodisplayitemcard-".concat(t))}))}),Object(c.jsxs)("div",{className:"checkoutInfo__display__price",children:[Object(c.jsx)(mt,{title:"SUBTOTAL",price:i},"checkoutinfopricecard-subtotal"),Object(c.jsx)(mt,{title:"SHIPPING",price:t},"checkoutinfopricecard-shipping"),Object(c.jsx)(mt,{title:"TOTAL",price:a},"checkoutinfopricecard-total")]}),Object(c.jsx)("button",{className:"checkout__btn standardBtn--2",children:"CONFIRM CHECKOUT"})]}),o=n?s:Object(c.jsx)(B,{});return Object(c.jsx)("div",{id:"checkoutInfo",className:"checkoutInfo",children:o})},bt=function(){var e=Object(R.g)(),t=p().user,a=h().logoutKeepCart,n=I(),i=n.cart,s=n.subtotal,o=n.resetCart,l=F().displayMessage,d=Object(r.useState)(0),u=Object(m.a)(d,2),b=u[0],_=u[1],O=Object(r.useState)("not_selected"),f=Object(m.a)(O,2),v=f[0],g=f[1],N=Object(r.useState)((function(){return M()})),y=Object(m.a)(N,2),k=y[0],S=y[1],w=Object(r.useState)({isValid:!0,shipping_method:{},shipping:{},billing:{},payment:{}}),E=Object(m.a)(w,2),T=E[0],A=E[1],D={default:0,standard:20,priority:100};function P(c){(c.preventDefault(),function(e){var t=e.sections,a=document.querySelector("#checkoutContent");A({isValid:!0,shipping_method:{},shipping:{},billing:{},payment:{}});var c=!0;return t.forEach((function(e){lt[e].forEach((function(t){""===a["".concat(e,"-").concat(t.name)].value.trim()&&(A((function(a){return Object(x.a)(Object(x.a)({},a),{},Object(C.a)({},e,Object(x.a)(Object(x.a)({},a[e]),{},Object(C.a)({},t.name,"".concat(t.label," must not be empty.")))))})),c=!1)}))})),c}({sections:["shipping_method","shipping","billing","payment"]}))&&function(c){var r={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(c)};r.headers.Authorization=t&&"Bearer ".concat(t.access),console.log(r),fetch("".concat(j,"eshop/createorder/"),r).then((function(e){return e.json()})).then((function(t){return console.log(t),t.detail&&"Given token not valid for any token type"===t.detail?(l({type:"Error",content:"Your previous login session is over. Please login again."}),a(),void e.push("/login")):(o(),e.push({pathname:"/order/".concat(t.uuid)}),t)}))}(function(){var e=L({section:"shipping",fields:lt.shipping}),a=L({section:"billing",fields:lt.billing}),c=L({section:"payment",fields:lt.payment});return{user:t&&t.id,shipping:e,billing:a,payment:c,shipping_method:v,cart:i}}())}function M(e){var t=e||b;return(Number(s)+t).toFixed(1)}function L(e){var t=e.section,a=e.fields,c=document.querySelector("#checkoutContent"),r={};return a.forEach((function(e){var a=c["".concat(t,"-").concat(e.name)].value.trim();r=Object(x.a)(Object(x.a)({},r),{},Object(C.a)({},e.name,a)),""===a&&A((function(a){return Object(x.a)(Object(x.a)({},a),{},Object(C.a)({isValid:!1},t,Object(x.a)(Object(x.a)({},a[t]),{},Object(C.a)({},e.name,"".concat(e.label," must not be empty.")))))}))})),r}return Object(r.useEffect)((function(){S((Number(s)+b).toFixed(1))}),[b,s]),Object(c.jsxs)("div",{id:"checkout",className:"checkout",children:[Object(c.jsx)("h1",{className:"checkout__h1",children:"CHECKOUT"}),Object(c.jsxs)("form",{id:"checkoutContent",className:"checkoutContent",onSubmit:function(e){return P(e)},children:[Object(c.jsx)(dt,{shippingMethod:v,handleSelectShipping:function(){var e=document.querySelector("#checkoutContent")["shipping_method-shipping_method"].value;_(D[e]),g(e),S(M(D[e]))},handleSubmit:P,errors:T},"checkoutform"),Object(c.jsx)(jt,{shipping:b,total:k},"checkoutinfo")]})]})},_t={createItem:[{title:"MASK NAME",name:"name",type:"text",required:!0},{title:"TYPE",name:"mask_type",type:"select",choiceSource:"type"},{title:"BRAND",name:"brand",type:"select",choiceSource:"brand"},{title:"BRAND (Others)",name:"other_brand",type:"text",required:!1},{title:"DESCRIPTION",name:"description",type:"text",required:!0},{title:"IMAGE URL",name:"img",type:"url",required:!0},{title:"PROTECTIONS",name:"protection",type:"checkbox",choiceSource:"protection"},{title:"COLOR",name:"color",type:"text",required:!0},{title:"ORIGINAL",name:"origin",type:"select",choiceSource:"origin"},{title:"PRICE",name:"price",type:"text-text",fields:[{name:"current",required:!0},{name:"original",required:!0}]},{title:"ITEM ON SALE?",name:"is_sale",type:"radio",choices:[{choice:"YES",value:!0},{choice:"NO",value:!1}]},{title:"ACTIVE ITEM?",name:"is_active",type:"radio",choices:[{choice:"YES",value:!0},{choice:"NO",value:!1}]},{title:"VARIATIONS",name:"variations",type:"checkbox-text",choices:[{name:"extraSmall",value:"XS",choice:"XS, Extra Small"},{name:"small",value:"S",choice:"S, Small"},{name:"medium",value:"M",choice:"M, Medium"},{name:"large",value:"L",choice:"L, Large"},{name:"extraLarge",value:"XL",choice:"XL, Extra Large"},{name:"kid",value:"KID",choice:"Kid"},{name:"junior",value:"JUN",choice:"Junior"},{name:"adult",value:"ADU",choice:"Adult"}]}]},pt=function(e){var t,a,r=e.item,n=r.title,i=r.name,s=r.type,o=r.choices,l=r.choiceSource,d=r.fields,u=r.required,m=e.error,j=w().filter;switch(s){case"select":t=o?o.map((function(e,t){return Object(c.jsx)("option",{value:e.value,children:e.display},"choice-".concat(i,"-").concat(t))})):j[l].map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.choice},"choice-".concat(i,"-").concat(t))})),a=Object(c.jsx)("div",{className:"adminItemFormGrp__con",children:Object(c.jsxs)("select",{id:"adminItemFormGrp_".concat(i),className:"adminItemFormGrp__con__select",name:i,defaultValue:"default",required:!0,children:[Object(c.jsxs)("option",{value:"default",disabled:!0,children:["Select ",n]}),t,"brand"===i&&Object(c.jsx)("option",{value:"others",children:"Other. Please provide."})]})});break;case"checkbox":t=o?o.map((function(e,t){return Object(c.jsxs)("div",{className:"adminItemFormGrp__checkbox",children:[Object(c.jsx)("input",{id:"".concat(i,"-checkbox-").concat(t),className:"adminItemFormGrp__checkbox__checkbox",type:"checkbox",name:i,value:e.id}),Object(c.jsx)("label",{className:"adminItemFormGrp__checkbox__label",children:e.choice})]},"".concat(i,"-checkbox-").concat(t))})):j[l].map((function(e,t){return Object(c.jsxs)("div",{className:"adminItemFormGrp__checkbox",children:[Object(c.jsx)("input",{id:"".concat(i,"-checkbox-").concat(t),className:"adminItemFormGrp__checkbox__checkbox",type:"checkbox",name:i,value:e.id,"data-name":e.choice}),Object(c.jsx)("label",{htmlFor:"".concat(i,"-checkbox-").concat(t),className:"adminItemFormGrp__checkbox__label",children:e.choice})]},"".concat(i,"-checkbox-").concat(t))})),a=Object(c.jsx)("div",{className:"adminItemFormGrp__con",children:t});break;case"radio":t=o?o.map((function(e,t){return Object(c.jsxs)("div",{className:"adminItemFormGrp__checkbox",children:[Object(c.jsx)("input",{id:"".concat(i,"-radio-").concat(t),className:"adminItemFormGrp__checkbox__checkbox",type:"radio",name:i,value:e.value}),Object(c.jsx)("label",{htmlFor:"".concat(i,"-radio-").concat(t),className:"adminItemFormGrp__checkbox__label",children:e.choice})]},"".concat(i,"-radio-").concat(t))})):j[l].map((function(e,t){return Object(c.jsxs)("div",{className:"adminItemFormGrp__checkbox",children:[Object(c.jsx)("input",{id:"".concat(i,"-radio-").concat(t),className:"adminItemFormGrp__checkbox__checkbox",type:"radio",name:i,value:e.value}),Object(c.jsx)("label",{htmlFor:"".concat(i,"-radio-").concat(t),className:"adminItemFormGrp__checkbox__label",children:e.choice})]},"".concat(i,"-radio-").concat(t))})),a=Object(c.jsx)("div",{className:"adminItemFormGrp__con",children:t});break;case"text-text":t=d.map((function(e,t){return Object(c.jsxs)("div",{className:"adminItemFormGrp__con--texttext",children:[Object(c.jsx)("p",{className:"adminItemFormGrp__con--texttext__p",children:e.name.toUpperCase()}),Object(c.jsx)("input",{id:"adminItemFormGrp_".concat(e.name),className:"adminItemFormGrp__con__text",type:"text",name:e.name,required:e.required})]},"adminItemFormGrp__con--texttext-".concat(i,"-").concat(t))})),a=Object(c.jsx)("div",{className:"adminItemFormGrp__con",children:t});break;case"checkbox-text":t=o.map((function(e,t){return Object(c.jsxs)("div",{className:"adminItemFormGrp__checkboxText__box",children:[Object(c.jsx)("input",{id:"".concat(i,"-checkboxText-").concat(t,"-checkbox"),className:"adminItemFormGrp__checkboxText__box__checkbox",type:"checkbox",name:i,value:e.value,"data-name":e.choice}),Object(c.jsx)("label",{htmlFor:"".concat(i,"-checkboxText-").concat(t,"-checkbox"),className:"adminItemFormGrp__checkboxText__box__label",children:e.choice}),Object(c.jsx)("input",{id:"".concat(i,"-checkboxText-").concat(t,"-input"),className:"adminItemFormGrp__checkboxText__box__input",type:"text",name:e.value,"data-name":e.choice})]},"".concat(i,"-checkboxText-").concat(t,"-checkbox"))})),a=Object(c.jsx)("div",{className:"adminItemFormGrp__con adminItemFormGrp__con--checkboxText",children:t});break;default:a=Object(c.jsx)("div",{className:"adminItemFormGrp__con",children:Object(c.jsx)("input",{id:"adminItemFormGrp_".concat(i),className:"adminItemFormGrp__con__text",type:s,name:i,required:u})})}var b=m&&"adminItemFormGrp--error";return Object(c.jsxs)("div",{className:"adminItemFormGrp ".concat(b),children:[Object(c.jsx)("h2",{className:"adminItemFormGrp__title",children:n}),a,m&&Object(c.jsxs)("p",{className:"adminItemFormGrp--error__p",children:["ERROR: ",m]})]})},ht=function(e){var t=e.fields,a=e.createEdit,n=e.setCurrentPage,i=e.editItem,s=Object(r.useRef)(),o=Object(r.useState)(t),l=Object(m.a)(o,2),d=l[0],u=l[1],j=Object(r.useState)({}),b=Object(m.a)(j,2),_=b[0],p=b[1];function h(e){var t=e.fieldName,a=e.name,c=e.type,r=document.querySelector("#adminItemForm"),n=t||a,i="",s=r[a],o=!0,l=d;if("text"===c||"tel"===c||"url"===c){if("other_brand"===a)return!0;s.value&&""!==s.value.trim("")||(o=!1,i="This field must not be left empty.")}else if("select"===c)"default"===s.value&&(o=!1,i="Please select ONE option."),"brand"===a&&"others"===s.value&&((s=r.other_brand.value)&&""!==s.trim()||(o=!1,n="other_brand",i="An alternative brand must be provided or select an existing brand."));else if("checkbox"===c){var m=!1;s.forEach((function(e){e.checked&&(m=!0)})),m||(o=!1,i="Please select AT LEAST ONE option.")}else if("variations"===a){var j=!1;s.forEach((function(e){e.checked&&""!==r[e.value].value.trim()&&(j=!0),j||(o=!1,i="Please select AT LEAST ONE option and provide it with a quantity greater than 0.")}))}else if("radio"===c){var b=!1;s.forEach((function(e){e.checked&&(b=!0)})),b||(o=!1,i="Please select ONE option.")}else if("text-text"===c){s.value.trim()>0||(o=!1,i="Please fill out all blanks of this section.")}return o?_[n]&&p((function(e){return delete e[n]})):(u(l),p((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(C.a)({},n,i))}))),o}function O(e){var t=e.fieldName,a=e.name,c=e.type,r=document.querySelector("#adminItemForm"),n=t||a,i=r[a],s={};if("text"===c||"tel"===c||"url"===c){if("other_brand"===a)return!0;s[n]=i.value}else if("select"===c)"brand"===a&&"others"===i.value?s[n]=r.other_brand.value:s[n]=Number(i.value);else if("checkbox"===c){var o=[];i.forEach((function(e){e.checked&&o.push(Number(e.value))})),s[n]=o}else if("variations"===a){var l=[];i.forEach((function(e){e.checked&&""!==r[e.value].value.trim()&&l.push({size:e.value,inventory:r[e.value].value})})),s[n]=l}else if("radio"===c){var d;i.forEach((function(e){e.checked&&(d=e.value)})),s[n]=d}else"text-text"===c&&(s["price_".concat(a)]=i.value.trim());return s}return Object(r.useEffect)((function(){i&&function(){var e=s.current,t=function(t){var a={SKIP:["id","reviews","timestamp_created","timestamp_updated"],SELECT:["mask_type","brand","origin"],CHECKBOX:["protections"],OTHERS:["price_current","price_original"],VARIATIONS:["variations"]};if(a.SKIP.includes(t))return"continue";a.SELECT.includes(t)?e[t].value=i[t].id:a.CHECKBOX.includes(t)?"protections"===t&&e.protection.forEach((function(e){i[t].includes(e.dataset.name.toUpperCase())&&(e.checked=!0)})):a.OTHERS.includes(t)?e[t.slice(6)].value=i[t]:a.VARIATIONS.includes(t)?i[t].forEach((function(t){e.variations.forEach((function(a){a.dataset.name===t.size&&(a.checked=!0,e[a.value].value=t.inventory)}))})):e[t].value=i[t]};for(var a in i)t(a)}()})),Object(c.jsxs)("form",{id:"adminItemForm",className:"adminItemForm",ref:s,onSubmit:function(e){return function(e){e.preventDefault(),n("loading");var t=!0;d.forEach((function(e){e.fields?e.fields.forEach((function(a){h({fieldName:e.name,name:a.name,type:e.type})||(t=!1)})):h({name:e.name,type:e.type})||(t=!1)})),t||window.scrollTo(0,0);var c={};d.forEach((function(e){e.fields?e.fields.forEach((function(t){c=Object(x.a)(Object(x.a)({},c),O({fieldName:e.name,name:t.name,type:e.type}))})):c=Object(x.a)(Object(x.a)({},c),O({name:e.name,type:e.type}))})),console.log(c),a({data:c})}(e)},children:[d&&d.map((function(e,t){return Object(c.jsx)(pt,{item:e,error:_[e.name]},"adminItemForm-".concat(t))})),Object(c.jsx)("button",{className:"adminItemForm__btn standardBtn--2",children:"Submit"})]})},Ot=function(){var e=Object(R.g)(),t=p().user,a=g().refreshItems,n=Object(r.useState)("form"),i=Object(m.a)(n,2),s=i[0],o=i[1];var l={loading:Object(c.jsx)(ie,{}),form:Object(c.jsx)(ht,{fields:_t.createItem,createEdit:function(c){var r=c.data;fetch("".concat(j,"eshop/masks/create/"),{method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(t.access)},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(t){if(console.log(t),t.details)o("form");else{var c=t.mask.id;a().then((function(t){t&&e.push("/item/".concat(c))}))}}))},setCurrentPage:o},"adminitemform")};return Object(c.jsxs)("div",{id:"adminAdd",className:"adminAdd",children:[Object(c.jsx)("h1",{className:"adminAdd__h1",children:"CREATE A NEW ITEM"}),l[s]]})},ft=function(e){var t=e.searchItem,a=e.setCurrentPage,n=Object(r.useRef)();return Object(c.jsxs)("form",{id:"adminEditSearch",className:"adminEditSearch",onSubmit:function(e){return function(e){e.preventDefault(),a("loading"),t({itemID:Number(n.current.value)})}(e)},children:[Object(c.jsx)("label",{htmlFor:"adminEditSearch__input",className:"adminEditSearch__label",children:"Please entre an item number:"}),Object(c.jsx)("input",{id:"adminEditSearch__input",className:"adminEditSearch__input",type:"tel",ref:n,required:!0}),Object(c.jsx)("button",{type:"submit",className:"adminEditSearch__btn standardBtn--2",children:"Search"})]})},xt=function(){var e=p().user,t=g().items,a=Object(r.useState)(!1),n=Object(m.a)(a,2),i=n[0],s=n[1],o=Object(r.useState)("search"),l=Object(m.a)(o,2),d=l[0],u=l[1];var b={loading:Object(c.jsx)(ie,{}),form:Object(c.jsx)(ht,{fields:_t.createItem,setCurrentPage:u,createEdit:function(t){var a=t.data;console.log("UPDATE"),console.log(a),fetch("".concat(j,"eshop/masks/update/").concat(i.id),{method:"PUT",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(e.access)},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log(e)})),u("form")},editItem:i},"adminitemform"),search:Object(c.jsx)(ft,{searchItem:function(e){var a=e.itemID;console.log(a),console.log(t.items);var c=t.items.filter((function(e){return e.id===a}));s(c[0]),u("form")},setCurrentPage:u},"admineditsearch")};return Object(c.jsxs)("div",{id:"adminEdit",className:"adminEdit",children:[Object(c.jsx)("h1",{className:"adminEdit__h1",children:"EDIT ITEM"}),b[d]]})},vt=function(e){var t=e.title,a=e.data;return Object(c.jsxs)("div",{id:"adminMainItemsCard",className:"adminMainItemsCard",children:[Object(c.jsx)("p",{className:"adminMainItemsCard__title",children:t}),Object(c.jsx)("p",{className:"adminMainItemsCard__data",children:a})]})},gt=function(){var e=g().items;return Object(c.jsxs)("div",{className:"adminMainItems",children:[Object(c.jsx)("div",{className:"adminMainItems__icon",children:Object(c.jsx)("i",{className:"adminMainItems__icon__i fas fa-chess-pawn"})}),Object(c.jsxs)("div",{className:"adminMainItems__details",children:[Object(c.jsx)(vt,{title:"Total Items",data:e.items.length},"adminmainitemscard-totalitems"),Object(c.jsx)(vt,{title:"On-sale",data:e.items.filter((function(e){return e.is_sale})).length},"adminmainitemscard-totalsale")]})]})},Nt=function(){return Object(c.jsx)("div",{id:"adminMain",className:"adminMain",children:Object(c.jsx)(gt,{})})},yt=function(e){var t=e.icon,a=e.page,r=e.link,n=e.setCurrentPage;return Object(c.jsxs)("button",{className:"adminNav__btn",onClick:function(){return n(r)},children:[Object(c.jsx)("i",{className:"adminNav__btn__i ".concat(t)}),Object(c.jsx)("p",{className:"adminNav__btn__p",children:a})]})},It=function(e){var t=e.setCurrentPage;return Object(c.jsxs)("div",{id:"adminNav",className:"adminNav",children:[Object(c.jsx)(yt,{icon:"fas fa-home",page:"HOME",link:"home",setCurrentPage:t},"adminnavitem-home"),Object(c.jsx)(yt,{icon:"fas fa-plus",page:"ADD ITEM",link:"additem",setCurrentPage:t},"adminnavitem-additem"),Object(c.jsx)(yt,{icon:"fas fa-pencil-alt",page:"EDIT ITEM",link:"edititem",setCurrentPage:t},"adminnavitem-edititem"),Object(c.jsx)(yt,{icon:"fas fa-scroll",page:"ORDERS",link:"orders",setCurrentPage:t},"adminnavitem-orders")]})},kt=function(){return Object(c.jsx)("div",{id:"adminOrders",className:"adminOrders",children:"ADMINORDERS"})},Ct=function(){var e=Object(r.useState)("home"),t=Object(m.a)(e,2),a=t[0],n=t[1],i={home:Object(c.jsx)(Nt,{}),additem:Object(c.jsx)(Ot,{}),edititem:Object(c.jsx)(xt,{}),orders:Object(c.jsx)(kt,{})}[a];return Object(c.jsxs)("div",{id:"admin",className:"admin",children:[Object(c.jsx)(It,{setCurrentPage:n},"adminnav"),Object(c.jsx)("div",{id:"adminCon",className:"adminCon",children:i})]})},St=function(){var e=p(),t=e.user,a=e.admin,r=I().cart,n=Object(c.jsx)(R.b,{exact:!0,path:"/cart",children:0===r.length?Object(c.jsx)(R.a,{to:"/"}):Object(c.jsx)(Ve,{})}),i=Object(c.jsx)(R.b,{exact:!0,path:"/checkout",children:0===r.length?Object(c.jsx)(R.a,{to:"/"}):Object(c.jsx)(bt,{})}),s=Object(c.jsx)(R.b,{exact:!0,path:"/register",children:t?Object(c.jsx)(R.a,{to:"/"}):Object(c.jsx)(rt,{})}),o=Object(c.jsx)(R.b,{exact:!0,path:"/login",children:t?Object(c.jsx)(R.a,{to:"/"}):Object(c.jsx)(nt,{})}),l=Object(c.jsx)(R.b,{exact:!0,path:"/account",children:t?Object(c.jsx)(et,{}):Object(c.jsx)(R.a,{to:"/"})}),d=Object(c.jsx)(R.b,{exact:!0,path:"/admin",children:a?Object(c.jsx)(Ct,{}):Object(c.jsx)(R.a,{to:"/"})});return Object(c.jsx)("div",{className:"main-con",children:Object(c.jsxs)(R.d,{children:[Object(c.jsx)(R.b,{path:"/",component:X,exact:!0}),Object(c.jsx)(R.b,{path:"/about",component:ne}),Object(c.jsx)(R.b,{path:"/item/:itemId",component:fe}),Object(c.jsx)(R.b,{path:"/order",component:Ie,exact:!0}),Object(c.jsx)(R.b,{path:"/trackorder",component:Ie,exact:!0}),Object(c.jsx)(R.b,{path:"/order/:orderID",component:Be}),Object(c.jsx)(R.b,{path:"/cart",component:Ve,exact:!0}),n,i,s,o,l,d,Object(c.jsx)(R.b,{path:"/*",component:it})]})})},wt=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(O,{children:Object(c.jsx)(N,{children:Object(c.jsx)(E,{children:Object(c.jsx)(k,{children:Object(c.jsx)(A,{children:Object(c.jsxs)(o.a,{basename:"/g2mask",children:[Object(c.jsx)(q,{}),Object(c.jsx)(St,{}),Object(c.jsx)(H,{})]})})})})})})})};s.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(wt,{})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.c19f103d.chunk.js.map